{"version":3,"sources":["TimerBlock.js","PlayerSelect.js","GameManager.js","serviceWorker.js","index.js"],"names":["Timer","props","className","onClick","time","TimerBlock","state","label","baseSeconds","baseTime","Date","now","currentSeconds","isCounting","this","startTimer","recalculateTime","clearInterval","interval","Math","floor","setState","setInterval","stopTimer","totalSeconds","hours","minutes","seconds","parseTime","handleClick","React","Component","FACTIONS","COLOURS","description","colour","PlayerSelect","selectedNumberOfPlayers","playerDetails","createPlayer","playerNumber","playerName","faction","deselected","playerNumberSelections","Array","fill","e","slice","target","value","console","log","onStartGame","finalPlayerDetails","determineSelection","playerNumberButtonHandleClick","numberOfPlayers","onPlayerNameChange","handlePlayerNameChange","onPlayerFactionChange","handlePlayerFactionChange","onPlayerColourChange","handlePlayerColourChange","type","handleStartGame","PlayerNumberSelect","isSelected","PlayerNumberButton","selected","renderPlayerNumberButton","id","PlayerDetailForm","playerDetailEntries","i","key","playerDetail","onFactionChange","onColourChange","renderPlayerDetailEntries","PlayerDetailEntry","factionElements","length","required","defaultValue","onChange","colourElements","getFactionList","getColourList","GameManager","gameMode","renderPlayerSelect","renderStrategy","renderStatusBoard","handleGameStart","renderGameComponent","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"ySAMA,SAASA,EAAMC,GACX,OACI,4BAAQC,UAAU,QAAQC,QAASF,EAAME,SACpCF,EAAMG,MAgGJC,M,YA1FX,WAAYJ,GAAQ,IAAD,8BACf,4CAAMA,KACDK,MAAQ,CACTC,MAAON,EAAMM,MACbC,YAAaP,EAAMO,YACnBC,SAAUC,KAAKC,MACfC,eAAgBX,EAAMW,eACtBC,WAAYZ,EAAMY,YAPP,E,iFAYXC,KAAKR,MAAMO,WACXC,KAAKC,YAAW,GAEhBD,KAAKE,oB,6CAITC,cAAcH,KAAKI,Y,wCAInB,IAAMd,EAAOU,KAAKR,MAAME,YAAcW,KAAKC,OAAOV,KAAKC,MAAQG,KAAKR,MAAMG,UAAY,KAItF,OAHAK,KAAKO,SAAS,CACVT,eAAgBR,IAEbA,I,mCAOG,IAAD,OACTU,KAAKO,SAAS,CACVZ,SAAUC,KAAKC,MACfE,YAAY,IAEhBC,KAAKI,SAAWI,aAAY,kBAAM,EAAKN,oBAAmB,O,kCAQ1DF,KAAKO,SAAS,CACVb,YAAaM,KAAKR,MAAMM,eACxBC,YAAY,IAEhBI,cAAcH,KAAKI,Y,oCAIfJ,KAAKR,MAAMO,WACXC,KAAKS,YAELT,KAAKC,YAAW,K,+BAId,IAAD,OACCX,EAad,SAAmBoB,GACf,IAAMC,EAAQN,KAAKC,MAAMI,EAxFP,MAyFZE,EAAUP,KAAKC,MAAOI,EAzFV,KADE,IA2FdG,EAAUH,EA3FI,GA6FhBpB,EAAOqB,EAAQ,EAAIA,EAAQ,IAAM,GAIrC,OAHArB,IAASsB,EAAU,GAAK,IAAMA,EAAUA,GAAW,IACnDtB,GAAQuB,EAAU,GAAK,IAAMA,EAAUA,EApBtBC,CAAUd,KAAKR,MAAMM,gBAElC,OACI,yBAAKV,UAAU,SACX,2BAAOA,UAAU,cAAcY,KAAKR,MAAMC,OAC1C,kBAACP,EAAD,CAAOI,KAAMA,EAAMD,QAAS,kBAAM,EAAK0B,sB,GArE9BC,IAAMC,WCRzBC,G,MAAW,CACb,GACA,UACA,mBACA,eACA,kBACA,oBACA,oBACA,mBACA,gBACA,mBACA,mBACA,cACA,qBACA,0BACA,QACA,gBACA,kBACA,mBAGEC,EAAU,CACZ,CAACC,YAAa,KAAMC,OAAQ,MAC5B,CAACD,YAAa,MAAOC,OAAQ,OAC7B,CAACD,YAAa,OAAQC,OAAQ,QAC9B,CAACD,YAAa,QAASC,OAAQ,SAC/B,CAACD,YAAa,SAAUC,OAAQ,UAChC,CAACD,YAAa,SAAUC,OAAQ,UAChC,CAACD,YAAa,QAASC,OAAQ,UAG7BC,E,YACF,WAAYnC,GAAQ,IAAD,8BACf,4CAAMA,KACDK,MAAQ,CACT+B,wBAAyB,KAEzBC,cAAe,CACX,EAAKC,aAAa,GAClB,EAAKA,aAAa,GAClB,EAAKA,aAAa,GAClB,EAAKA,aAAa,GAClB,EAAKA,aAAa,GAClB,EAAKA,aAAa,KAXX,E,0EAgBNC,GAOT,MANmB,CACfC,WAAY,WAAaD,EAAe,GACxCA,aAAcA,EACdE,QAAS,KACTP,OAAQ,Q,oDAKcK,GAE1B,IAAIG,EAAa7B,KAAKR,MAAM+B,0BAA4BG,EAExD1B,KAAKO,SAAS,CACVgB,wBAAyBM,EAAa,KAAOH,M,2CAKjD,IAAII,EAAyBC,MAtEX,GAsEoCC,MAAK,GAK3D,OAJ2C,OAAvChC,KAAKR,MAAM+B,0BACXO,EAAuB9B,KAAKR,MAAM+B,wBAzEX,IAyEmE,GAGvFO,I,6CAGYG,EAAGP,GACtB,IAAIF,EAAgBxB,KAAKR,MAAMgC,cAAcU,QAC7CV,EAAcE,GAAcC,WAAaM,EAAEE,OAAOC,MAClDpC,KAAKO,SAAU,CACXiB,cAAeA,IAEnBa,QAAQC,IAAI,eAAiBd,EAAcE,GAAcC,WAAa,cAAgBD,K,gDAGhEO,EAAGP,GACzB,IAAIF,EAAgBxB,KAAKR,MAAMgC,cAAcU,QAC7CV,EAAcE,GAAcE,QAAUK,EAAEE,OAAOC,MAC/CpC,KAAKO,SAAU,CACXiB,cAAeA,IAEnBa,QAAQC,IAAI,kBAAoBd,EAAcE,GAAcE,QAAU,cAAgBF,K,+CAGjEO,EAAGP,GACxB,IAAIF,EAAgBxB,KAAKR,MAAMgC,cAAcU,QAC7CV,EAAcE,GAAcL,OAASY,EAAEE,OAAOC,MAC9CpC,KAAKO,SAAU,CACXiB,cAAeA,IAEnBa,QAAQC,IAAI,iBAAmBd,EAAcE,GAAcL,OAAS,cAAgBK,K,wCAGrE,IAAD,OACd,GAAI1B,KAAKb,MAAMoD,YAAa,CACxB,IAAIC,EAAqBxC,KAAKR,MAAMgC,cAAcU,MAAM,EAAGlC,KAAKR,MAAM+B,yBAEtE,OAAO,kBAAM,EAAKpC,MAAMoD,YAAYC,O,+BAIlC,IAAD,OACCV,EAAyB9B,KAAKyC,qBAEpC,OACI,6BACI,6BACI,iDACA,kBAAC,EAAD,CACIX,uBAAwBA,EACxBzC,QAAS,SAAAqC,GAAY,OAAI,EAAKgB,8BAA8BhB,OAGpE,8BACI,kBAAC,EAAD,CACIiB,gBAAiB3C,KAAKR,MAAM+B,wBAC5BC,cAAexB,KAAKR,MAAMgC,cAC1BoB,mBAAoB,SAACX,EAAGP,GAAJ,OAAqB,EAAKmB,uBAAuBZ,EAAGP,IACxEoB,sBAAuB,SAACb,EAAGP,GAAJ,OAAqB,EAAKqB,0BAA0Bd,EAAGP,IAC9EsB,qBAAsB,SAACf,EAAGP,GAAJ,OAAqB,EAAKuB,yBAAyBhB,EAAGP,MAEhF,4BAAQwB,KAAK,SAAS7D,QAASW,KAAKmD,mBAApC,oB,GApGOnC,IAAMC,WA8G3BmC,E,iMACuB1B,GAAe,IAAD,OAC7B2B,EAAarD,KAAKb,MAAM2C,uBAAuBJ,EAlJ1B,GAoJ3B,OAAQ,kBAAC4B,EAAD,CACJlB,MAAOV,EACP6B,SAAUF,EACVhE,QAAS,kBAAM,EAAKF,MAAME,QAAQqC,Q,+BAKtC,OACI,6BACM1B,KAAKwD,yBAAyB,GAC9BxD,KAAKwD,yBAAyB,GAC9BxD,KAAKwD,yBAAyB,GAC9BxD,KAAKwD,yBAAyB,Q,GAjBfxC,IAAMC,WAwBvC,SAASqC,EAAmBnE,GACxB,OACI,4BACIC,UAAS,0BAAqBD,EAAMoE,SAAW,0BAA4B,IAC3EE,GAAE,UAAKtE,EAAMiD,MAAX,UACF/C,QAASF,EAAME,SAEdF,EAAMiD,O,IAMbsB,E,oMAGE,IAFyB,IAAD,OACpBC,EAAsB5B,MAAM/B,KAAKb,MAAMwD,iBADnB,WAEfiB,GACLD,EAAoBC,GAAK,kBAAC,EAAD,CACrBC,IAAKD,EACLE,aAAc,EAAK3E,MAAMqC,cAAcoC,GACvChB,mBAAoB,SAAAX,GAAC,OAAI,EAAK9C,MAAMyD,mBAAmBX,EAAG2B,IAC1DG,gBAAiB,SAAA9B,GAAC,OAAI,EAAK9C,MAAM2D,sBAAsBb,EAAG2B,IAC1DI,eAAgB,SAAA/B,GAAC,OAAI,EAAK9C,MAAM6D,qBAAqBf,EAAG2B,OANvDA,EAAI,EAAGA,EAAI5D,KAAKb,MAAMwD,gBAAiBiB,IAAM,EAA7CA,GAUT,OAAQ,6BACHD,K,+BAKL,OACI,6BACK3D,KAAKiE,iC,GArBSjD,IAAMC,WA4B/BiD,E,yLAKE,IADA,IAAIC,EAAkBpC,MAAMb,EAASkD,QAAQpC,KAAK,MACzC4B,EAAI,EAAGA,EAAI1C,EAASkD,OAAQR,IACjCO,EAAgBP,GACZ,4BAAQC,IAAKD,EAAGxB,MAAOlB,EAAS0C,IAC3B1C,EAAS0C,IAKtB,OAAO,4BACHH,GAAG,WACHY,UAAQ,EACRC,aAActE,KAAKb,MAAM2E,aAAalC,QACtC2C,SAAUvE,KAAKb,MAAM4E,iBAEpBI,K,sCAML,IADA,IAAIK,EAAiBzC,MAAMZ,EAAQiD,QAAQpC,KAAK,MACvC4B,EAAI,EAAGA,EAAIzC,EAAQiD,OAAQR,IAChCY,EAAeZ,GACX,4BAAQC,IAAKD,EAAGxB,MAAOjB,EAAQyC,GAAGxC,aAC7BD,EAAQyC,GAAGxC,aAIxB,OAAO,4BACHqC,GAAG,UACHY,UAAQ,EACRC,aAActE,KAAKb,MAAM2E,aAAazC,OACtCkD,SAAUvE,KAAKb,MAAM6E,gBAEpBQ,K,+BAKL,OACI,6BACI,2BACItB,KAAK,OACLoB,aAActE,KAAKb,MAAM2E,aAAanC,WACtC4C,SAAUvE,KAAKb,MAAMyD,qBAExB5C,KAAKyE,iBACLzE,KAAK0E,qB,GAnDU1D,IAAMC,WAyDvBK,ICpMAqD,E,YAhEX,WAAYxF,GAAQ,IAAD,8BACf,4CAAMA,KACDK,MAAQ,CACTgC,cAAe,KACfoD,SATe,GAKJ,E,6EAQHpD,GACZxB,KAAKO,SAAU,CACXiB,cAAeA,EACfoD,SAfU,IAiBdvC,QAAQC,IAAId,K,4CAIZ,OAAQxB,KAAKR,MAAMoF,UACf,KAvBe,EAwBX,OAAO5E,KAAK6E,qBAChB,KAxBU,EAyBN,OAAO7E,KAAK8E,iBAChB,KAzBc,EA0BV,OAAO9E,KAAK+E,oBAChB,QACI,OAAO,Q,2CAIG,IAAD,OACjB,OACI,6BACI,kBAAC,EAAD,CAAcxC,YAAa,SAAAf,GAAa,OAAI,EAAKwD,gBAAgBxD,S,uCAMzE,OACI,6BACI,8CACA,kBAAC,EAAD,CAAYiC,GAAG,aAAahE,MAAM,aAAaC,YAAa,KAAMI,eAAgB,EAAGC,YAAY,IACjG,kBAAC,EAAD,CAAY0D,GAAG,YAAYhE,MAAM,YAAYC,YAAa,EAAGI,eAAgB,EAAGC,YAAY,O,0CAMpG,OACI,6BACI,+C,+BAMR,OACI,6BACKC,KAAKiF,2B,GA3DIjE,IAAMC,WCIZiE,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCNNC,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,SDqHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL7D,QAAQ6D,MAAMA,EAAMC,c","file":"static/js/main.ff1b384c.chunk.js","sourcesContent":["import React from 'react';\r\nimport './TimerBlock.css';\r\n\r\nconst secondsInMinute = 60;\r\nconst secondsInHour = 60 * 60;\r\n\r\nfunction Timer(props) {\r\n    return (\r\n        <button className=\"timer\" onClick={props.onClick}>\r\n            {props.time}\r\n        </button>\r\n    );\r\n}\r\n\r\nclass TimerBlock extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            label: props.label,\r\n            baseSeconds: props.baseSeconds,\r\n            baseTime: Date.now(),\r\n            currentSeconds: props.currentSeconds,\r\n            isCounting: props.isCounting\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.isCounting) {\r\n            this.startTimer(true);\r\n        } else {\r\n            this.recalculateTime();\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    recalculateTime() {\r\n        const time = this.state.baseSeconds + Math.floor((Date.now() - this.state.baseTime) / 1000);\r\n        this.setState({\r\n            currentSeconds: time\r\n        });\r\n        return time;\r\n    }\r\n\r\n    /**\r\n    * Starts the timer count from the current time. baseSeconds should be the time that the timer stopped\r\n    * and so the dynamic count while the timer is on should always start from the time it starts/resumes\r\n    */\r\n    startTimer() {\r\n        this.setState({\r\n            baseTime: Date.now(),\r\n            isCounting: true,\r\n        });\r\n        this.interval = setInterval(() => this.recalculateTime(), 1000);\r\n    }\r\n\r\n    /**\r\n    * Stops the timer count. Records the currentSeconds count as the new baseSeconds so that it can resume   * from this time\r\n    */\r\n    stopTimer() {\r\n        //switch off; record current timer count as the new baseSeconds\r\n        this.setState({\r\n            baseSeconds: this.state.currentSeconds,\r\n            isCounting: false,\r\n        });\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    handleClick() {\r\n        if (this.state.isCounting) {\r\n            this.stopTimer();\r\n        } else {\r\n            this.startTimer(false);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const time = parseTime(this.state.currentSeconds);\r\n\r\n        return (\r\n            <div className=\"Timer\">\r\n                <label className=\"timerLabel\">{this.state.label}</label>\r\n                <Timer time={time} onClick={() => this.handleClick()} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n//-------------------------------------------\r\n\r\nfunction parseTime(totalSeconds) {\r\n    const hours = Math.floor(totalSeconds / secondsInHour);\r\n    const minutes = Math.floor((totalSeconds % secondsInHour) / secondsInMinute);\r\n    const seconds = totalSeconds % secondsInMinute;\r\n\r\n    var time = hours > 0 ? hours + \":\" : \"\";\r\n    time += (minutes < 10 ? \"0\" + minutes : minutes) + \":\";\r\n    time += seconds < 10 ? \"0\" + seconds : seconds;\r\n\r\n    return time;\r\n}\r\n\r\n//--------------------------------------------\r\n\r\nexport default TimerBlock;\r\n\r\n// ReactDOM.render(\r\n//   <TimerBlock\r\n//     label=\"Total Time\"\r\n//     baseSeconds={5500}\r\n//     currentSeconds={0}\r\n//     isCounting={true}\r\n//   />,\r\n//   document.getElementById(\"root\")\r\n// );","import React from 'react';\r\nimport './PlayerSelect.css';\r\n\r\nconst PLAYER_NUMBER_INDEX_OFFSET = 3; //player 3 is array index 0\r\nconst MAX_PLAYER_NUMBER = 6;\r\n\r\nconst FACTIONS = [\r\n    \"\",\r\n    \"Arborec\",\r\n    \"Barony of Letnev\",\r\n    \"Clan of Saar\",\r\n    \"Embers of Muaat\",\r\n    \"Emirates of Hacan\",\r\n    \"Federation of Sol\",\r\n    \"Ghosts of Creuss\",\r\n    \"L1Z1X Mindnet\",\r\n    \"Mentak Coalition\",\r\n    \"Naalu Collective\",\r\n    \"Nekro Virus\",\r\n    \"Sardakk N’orr\",\r\n    \"Universities of Jol-Nar\",\r\n    \"Winnu\",\r\n    \"Xxcha Kingdom\",\r\n    \"Yin Brotherhood\",\r\n    \"Yssaril Tribes\"\r\n]\r\n\r\nconst COLOURS = [\r\n    {description: null, colour: null},\r\n    {description: \"Red\", colour: \"red\"},\r\n    {description: \"Blue\", colour: \"blue\"},\r\n    {description: \"Green\", colour: \"green\"},\r\n    {description: \"Yellow\", colour: \"yellow\"},\r\n    {description: \"Purple\", colour: \"purple\"},\r\n    {description: \"Black\", colour: \"black\"},\r\n]\r\n\r\nclass PlayerSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedNumberOfPlayers: null,\r\n            //TODO dynamically populate player number as index\r\n            playerDetails: [\r\n                this.createPlayer(0),\r\n                this.createPlayer(1),\r\n                this.createPlayer(2),\r\n                this.createPlayer(3),\r\n                this.createPlayer(4),\r\n                this.createPlayer(5),\r\n            ]\r\n        };\r\n    }\r\n\r\n    createPlayer(playerNumber) {\r\n        var playerDetail = {\r\n            playerName: \"Player \" + (playerNumber + 1),\r\n            playerNumber: playerNumber,\r\n            faction: null,\r\n            colour: null,\r\n        }\r\n        return playerDetail;\r\n    }\r\n\r\n    playerNumberButtonHandleClick(playerNumber) {\r\n        //if the existing option is selected, deselect it\r\n        let deselected = this.state.selectedNumberOfPlayers === playerNumber\r\n\r\n        this.setState({\r\n            selectedNumberOfPlayers: deselected ? null : playerNumber,\r\n        });\r\n    }\r\n\r\n    determineSelection() {\r\n        let playerNumberSelections = Array(MAX_PLAYER_NUMBER).fill(false);\r\n        if (this.state.selectedNumberOfPlayers !== null) {\r\n            playerNumberSelections[this.state.selectedNumberOfPlayers - PLAYER_NUMBER_INDEX_OFFSET] = true;\r\n        }\r\n\r\n        return playerNumberSelections;\r\n    }\r\n\r\n    handlePlayerNameChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].playerName = e.target.value;\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n        console.log(\"New Name is \" + playerDetails[playerNumber].playerName + \" for index \" + playerNumber);\r\n    }\r\n\r\n    handlePlayerFactionChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].faction = e.target.value;\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n        console.log(\"New Faction is \" + playerDetails[playerNumber].faction + \" for index \" + playerNumber);\r\n    }\r\n    \r\n    handlePlayerColourChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].colour = e.target.value;\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n        console.log(\"New Colour is \" + playerDetails[playerNumber].colour + \" for index \" + playerNumber);\r\n    }\r\n\r\n    handleStartGame() {\r\n        if (this.props.onStartGame) {\r\n            let finalPlayerDetails = this.state.playerDetails.slice(0, this.state.selectedNumberOfPlayers)\r\n\r\n            return () => this.props.onStartGame(finalPlayerDetails)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const playerNumberSelections = this.determineSelection();\r\n\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <h1>Number of Players</h1>\r\n                    <PlayerNumberSelect \r\n                        playerNumberSelections={playerNumberSelections}\r\n                        onClick={playerNumber => this.playerNumberButtonHandleClick(playerNumber)}\r\n                    />\r\n                </div>\r\n                <form>\r\n                    <PlayerDetailForm \r\n                        numberOfPlayers={this.state.selectedNumberOfPlayers} \r\n                        playerDetails={this.state.playerDetails}\r\n                        onPlayerNameChange={(e, playerNumber) => this.handlePlayerNameChange(e, playerNumber)}\r\n                        onPlayerFactionChange={(e, playerNumber) => this.handlePlayerFactionChange(e, playerNumber)}\r\n                        onPlayerColourChange={(e, playerNumber) => this.handlePlayerColourChange(e, playerNumber)}\r\n                    />\r\n                    <button type=\"button\" onClick={this.handleStartGame()}>\r\n                        Start Game\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass PlayerNumberSelect extends React.Component {\r\n    renderPlayerNumberButton(playerNumber) {\r\n        const isSelected = this.props.playerNumberSelections[playerNumber - PLAYER_NUMBER_INDEX_OFFSET];\r\n\r\n        return (<PlayerNumberButton\r\n            value={playerNumber}\r\n            selected={isSelected}\r\n            onClick={() => this.props.onClick(playerNumber)}\r\n        />);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                { this.renderPlayerNumberButton(3) }\r\n                { this.renderPlayerNumberButton(4) }\r\n                { this.renderPlayerNumberButton(5) }\r\n                { this.renderPlayerNumberButton(6) }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction PlayerNumberButton(props) {\r\n    return (\r\n        <button \r\n            className={`playerNumButton ${props.selected ? \"selectedPlayerNumButton\" : \"\"}`} \r\n            id={`${props.value}Player`} \r\n            onClick={props.onClick}\r\n        >\r\n            {props.value}\r\n        </button>\r\n    );\r\n}\r\n\r\n\r\nclass PlayerDetailForm extends React.Component {\r\n    renderPlayerDetailEntries() {\r\n        let playerDetailEntries = Array(this.props.numberOfPlayers);\r\n        for (let i = 0; i < this.props.numberOfPlayers; i++) {\r\n            playerDetailEntries[i] = <PlayerDetailEntry \r\n                key={i}\r\n                playerDetail={this.props.playerDetails[i]}\r\n                onPlayerNameChange={e => this.props.onPlayerNameChange(e, i)}\r\n                onFactionChange={e => this.props.onPlayerFactionChange(e, i)}\r\n                onColourChange={e => this.props.onPlayerColourChange(e, i)}\r\n            />;\r\n        }\r\n\r\n        return (<div>\r\n            {playerDetailEntries}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderPlayerDetailEntries()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass PlayerDetailEntry extends React.Component {\r\n    //TODO: could have a list of unselected factions passed down to prevent duplicates\r\n    //TODO: work out a better way of recording all the faction details (enum equivalent?)\r\n    getFactionList() {\r\n        let factionElements = Array(FACTIONS.length).fill(null);\r\n        for (let i = 0; i < FACTIONS.length; i++) {\r\n            factionElements[i] = \r\n                <option key={i} value={FACTIONS[i]}>\r\n                    {FACTIONS[i]}\r\n                </option>\r\n        }\r\n\r\n        //TODO: consider a datalist instead. Allows type-ahead but clearing is clunky\r\n        return <select \r\n            id=\"factions\" \r\n            required \r\n            defaultValue={this.props.playerDetail.faction}\r\n            onChange={this.props.onFactionChange}\r\n        >\r\n            {factionElements}\r\n        </select>;\r\n    }\r\n\r\n    getColourList() {\r\n        let colourElements = Array(COLOURS.length).fill(null);\r\n        for (let i = 0; i < COLOURS.length; i++) {\r\n            colourElements[i] = \r\n                <option key={i} value={COLOURS[i].description}>\r\n                    {COLOURS[i].description}\r\n                </option>\r\n        }\r\n\r\n        return <select \r\n            id=\"colours\" \r\n            required \r\n            defaultValue={this.props.playerDetail.colour} \r\n            onChange={this.props.onColourChange}\r\n        >\r\n            {colourElements}\r\n        </select>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input \r\n                    type=\"text\"\r\n                    defaultValue={this.props.playerDetail.playerName} \r\n                    onChange={this.props.onPlayerNameChange}\r\n                />\r\n                {this.getFactionList()}\r\n                {this.getColourList()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlayerSelect;","import React from 'react';\r\nimport TimerBlock from './TimerBlock';\r\nimport PlayerSelect from './PlayerSelect';\r\n\r\nconst MODE_PLAYER_SELECT = 1;\r\nconst MODE_STRATEGY = 2;\r\nconst MODE_STATUS_BOARD = 3;\r\n\r\nclass GameManager extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            playerDetails: null,\r\n            gameMode: MODE_PLAYER_SELECT,\r\n        };\r\n    }\r\n\r\n    handleGameStart(playerDetails) {\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n            gameMode: MODE_STRATEGY,\r\n        });\r\n        console.log(playerDetails);\r\n    }\r\n\r\n    renderGameComponent() {\r\n        switch (this.state.gameMode) {\r\n            case MODE_PLAYER_SELECT: \r\n                return this.renderPlayerSelect();\r\n            case MODE_STRATEGY:\r\n                return this.renderStrategy();\r\n            case MODE_STATUS_BOARD:\r\n                return this.renderStatusBoard();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    renderPlayerSelect() {\r\n        return (\r\n            <div>\r\n                <PlayerSelect onStartGame={playerDetails => this.handleGameStart(playerDetails)}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderStrategy() {\r\n        return (\r\n            <div>\r\n                <h1>Strategy Phase</h1>\r\n                <TimerBlock id=\"totalTimer\" label=\"Total Time\" baseSeconds={5500} currentSeconds={0} isCounting={true}/>\r\n                <TimerBlock id=\"turnTimer\" label=\"Turn Time\" baseSeconds={0} currentSeconds={0} isCounting={false}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderStatusBoard() {\r\n        return (\r\n            <div>\r\n                <h1>Status Board</h1>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderGameComponent()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GameManager;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport GameManager from './GameManager';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\n// ReactDOM.render(\r\n//     <TimerBlock label=\"Total Time\" baseSeconds={5500} currentSeconds={0} isCounting={true}/>,\r\n//     document.getElementById(\"root\")\r\n//   );\r\n\r\nReactDOM.render(\r\n    <GameManager/>,\r\n    document.getElementById(\"root\")\r\n  );\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}