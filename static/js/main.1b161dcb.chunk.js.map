{"version":3,"sources":["PlayerSelect.js","StrategySelect.js","TimerBlock.js","StatusBoard.js","ObjectiveSelectModal.js","ObjectivePanel.js","GameManager.js","serviceWorker.js","index.js"],"names":["FACTIONS","COLOURS","description","colour","PlayerSelect","props","state","selectedNumberOfPlayers","playerDetails","createPlayer","playerNumber","playerName","faction","victoryPoints","isSpeaker","isActivePlayer","timer","baseSeconds","currentSeconds","countStartTime","Date","now","isCounting","deselected","this","setState","playerNumberSelections","Array","fill","e","slice","target","value","JSON","parse","onStartGame","finalPlayerDetails","determineSelection","onClick","playerNumberButtonHandleClick","numberOfPlayers","onPlayerNameChange","handlePlayerNameChange","onPlayerFactionChange","handlePlayerFactionChange","onPlayerColourChange","handlePlayerColourChange","Button","type","handleStartGame","React","Component","PlayerNumberSelect","isSelected","PlayerNumberButton","selected","renderPlayerNumberButton","className","id","PlayerDetailForm","playerDetailEntries","i","key","playerDetail","onFactionChange","onColourChange","renderPlayerDetailEntries","PlayerDetailEntry","factionElements","map","required","defaultValue","onChange","colourElements","stringify","playerColour","getFactionList","getColourList","STRATEGIES","name","number","StrategySelect","onStartRound","Row","onPlayerStrategyChange","Col","variant","onToggleTimers","isGameActive","handleStartRound","PlayerStrategyForm","players","speakerIndex","length","playerStrategyEntries","destinationIndex","onStrategyChange","renderPlayerStrategyEntries","PlayerStrategyEntry","strategyElements","strategy","playerStrategy","disabled","getStrategyList","Timer","time","TimerBlock","totalSeconds","hours","Math","floor","minutes","seconds","parseTime","interactive","label","StatusBoard","playerCards","player","onEndTurn","s","span","offset","onEndRound","PlayerCard","playerStrategyButton","style","backgroundColor","ObjectiveSelectModal","showModal","selectedObjectives","objectives","objective","isRevealed","filter","availableObjectives","objective_store","stage","some","selectedObjective","objectiveElements","hidden","concat","objectiveSelect","onObjectiveChange","Modal","show","onHide","onCloseModal","centered","Header","Title","Body","selectedObjectiveSelection","longDescription","Footer","onConfirmModal","ObjectivePanel","objectiveBlocks","ObjectiveCard","order","shortDescription","onObjectiveCardClick","cardDisplay","GameHeader","turnTimer","showTurnTimer","currentTurnTimer","onTurnTimerClick","roundNumber","totalGameTimer","onGameTimerClick","GameManager","gameMode","showObjectiveSelectModal","publicObjectives","fillPublicObjectives","heartbeat","setInterval","recalculateTimers","clearInterval","startGameTimer","startTurnTimers","stopTurnTimers","stopGameTimer","restartTurnTimers","index","nextUnrevealedObjective","newObjective","isConfirmed","newPublicObjectives","NUMBER_OBJECTIVES_STAGE_ONE","recalculateGameTime","recalculateTurnTime","playerTimer","resetCurrentTurn","nextPlayer","getNextPlayer","getActivePlayer","activePlayer","highestInitiativeNumber","playerInitiativeNumber","renderPlayerSelect","renderStrategy","renderStatusBoard","Container","fluid","renderGameHeader","renderObjectivePanel","handleToggleTimers","handlePlayerStrategyChange","handleEndTurn","handleEndRound","handleTurnTimerClicked","handleGameTimerClicked","handleObjectiveCardClicked","renderGameComponent","handleCloseObjectiveSelectModal","handleObjectiveChange","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.1b161dcb.chunk.js","sourcesContent":["import React from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport './PlayerSelect.css';\r\n\r\nconst PLAYER_NUMBER_INDEX_OFFSET = 3; //player 3 is array index 0\r\nconst MAX_PLAYER_NUMBER = 6;\r\n\r\nconst FACTIONS = [\r\n    \"\",\r\n    \"Arborec\",\r\n    \"Barony of Letnev\",\r\n    \"Clan of Saar\",\r\n    \"Embers of Muaat\",\r\n    \"Emirates of Hacan\",\r\n    \"Federation of Sol\",\r\n    \"Ghosts of Creuss\",\r\n    \"L1Z1X Mindnet\",\r\n    \"Mentak Coalition\",\r\n    \"Naalu Collective\",\r\n    \"Nekro Virus\",\r\n    \"Sardakk N’orr\",\r\n    \"Universities of Jol-Nar\",\r\n    \"Winnu\",\r\n    \"Xxcha Kingdom\",\r\n    \"Yin Brotherhood\",\r\n    \"Yssaril Tribes\"\r\n]\r\n\r\nconst COLOURS = [\r\n    {description: null, colour: null},\r\n    {description: \"Red\", colour: \"red\"},\r\n    {description: \"Blue\", colour: \"blue\"},\r\n    {description: \"Green\", colour: \"green\"},\r\n    {description: \"Yellow\", colour: \"yellow\"},\r\n    {description: \"Purple\", colour: \"purple\"},\r\n    {description: \"Black\", colour: \"black\"},\r\n]\r\n\r\nclass PlayerSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedNumberOfPlayers: null,\r\n            //TODO dynamically populate player number as index\r\n            playerDetails: [\r\n                this.createPlayer(0),\r\n                this.createPlayer(1),\r\n                this.createPlayer(2),\r\n                this.createPlayer(3),\r\n                this.createPlayer(4),\r\n                this.createPlayer(5),\r\n            ]\r\n        };\r\n    }\r\n\r\n    createPlayer(playerNumber) {\r\n        var playerDetail = {\r\n            playerName: \"Player \" + (playerNumber + 1),\r\n            playerNumber: playerNumber,\r\n            faction: null,\r\n            colour: null,\r\n            victoryPoints: 0,\r\n            isSpeaker: playerNumber === 0 ? true : false,\r\n            isActivePlayer: playerNumber === 0 ? true : false,\r\n            timer: {\r\n                baseSeconds: 0,\r\n                currentSeconds: 0,\r\n                countStartTime: Date.now(),\r\n                isCounting: false,\r\n            },\r\n        }\r\n        return playerDetail;\r\n    }\r\n\r\n    playerNumberButtonHandleClick(playerNumber) {\r\n        //if the existing option is selected, deselect it\r\n        let deselected = this.state.selectedNumberOfPlayers === playerNumber\r\n\r\n        this.setState({\r\n            selectedNumberOfPlayers: deselected ? null : playerNumber,\r\n        });\r\n    }\r\n\r\n    determineSelection() {\r\n        let playerNumberSelections = Array(MAX_PLAYER_NUMBER).fill(false);\r\n        if (this.state.selectedNumberOfPlayers !== null) {\r\n            playerNumberSelections[this.state.selectedNumberOfPlayers - PLAYER_NUMBER_INDEX_OFFSET] = true;\r\n        }\r\n\r\n        return playerNumberSelections;\r\n    }\r\n\r\n    handlePlayerNameChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].playerName = e.target.value;\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n    }\r\n\r\n    handlePlayerFactionChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].faction = e.target.value;\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n    }\r\n    \r\n    handlePlayerColourChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].colour = JSON.parse(e.target.value);\r\n        this.setState ({\r\n            playerDetails: playerDetails,\r\n        });\r\n    }\r\n\r\n    handleStartGame() {\r\n        if (this.props.onStartGame) {\r\n            let finalPlayerDetails = this.state.playerDetails.slice(0, this.state.selectedNumberOfPlayers)\r\n\r\n            return () => this.props.onStartGame(finalPlayerDetails)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const playerNumberSelections = this.determineSelection();\r\n\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <h1>Number of Players</h1>\r\n                    <PlayerNumberSelect \r\n                        playerNumberSelections={playerNumberSelections}\r\n                        onClick={playerNumber => this.playerNumberButtonHandleClick(playerNumber)}\r\n                    />\r\n                </div>\r\n                <form>\r\n                    <PlayerDetailForm \r\n                        numberOfPlayers={this.state.selectedNumberOfPlayers} \r\n                        playerDetails={this.state.playerDetails}\r\n                        onPlayerNameChange={(e, playerNumber) => this.handlePlayerNameChange(e, playerNumber)}\r\n                        onPlayerFactionChange={(e, playerNumber) => this.handlePlayerFactionChange(e, playerNumber)}\r\n                        onPlayerColourChange={(e, playerNumber) => this.handlePlayerColourChange(e, playerNumber)}\r\n                    />\r\n                    <Button type=\"button\" onClick={this.handleStartGame()}>\r\n                        Start Game\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass PlayerNumberSelect extends React.Component {\r\n    renderPlayerNumberButton(playerNumber) {\r\n        const isSelected = this.props.playerNumberSelections[playerNumber - PLAYER_NUMBER_INDEX_OFFSET];\r\n\r\n        return (<PlayerNumberButton\r\n            value={playerNumber}\r\n            selected={isSelected}\r\n            onClick={() => this.props.onClick(playerNumber)}\r\n        />);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                { this.renderPlayerNumberButton(3) }\r\n                { this.renderPlayerNumberButton(4) }\r\n                { this.renderPlayerNumberButton(5) }\r\n                { this.renderPlayerNumberButton(6) }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction PlayerNumberButton(props) {\r\n    return (\r\n        <button \r\n            className={`playerNumButton ${props.selected ? \"selectedPlayerNumButton\" : \"\"}`} \r\n            id={`${props.value}Player`} \r\n            onClick={props.onClick}\r\n        >\r\n            {props.value}\r\n        </button>\r\n    );\r\n}\r\n\r\n\r\nclass PlayerDetailForm extends React.Component {\r\n    renderPlayerDetailEntries() {\r\n        let playerDetailEntries = Array(this.props.numberOfPlayers);\r\n        for (let i = 0; i < this.props.numberOfPlayers; i++) {\r\n            playerDetailEntries[i] = <PlayerDetailEntry \r\n                key={i}\r\n                playerDetail={this.props.playerDetails[i]}\r\n                onPlayerNameChange={e => this.props.onPlayerNameChange(e, i)}\r\n                onFactionChange={e => this.props.onPlayerFactionChange(e, i)}\r\n                onColourChange={e => this.props.onPlayerColourChange(e, i)}\r\n            />;\r\n        }\r\n\r\n        return (<div>\r\n            {playerDetailEntries}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderPlayerDetailEntries()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass PlayerDetailEntry extends React.Component {\r\n    //TODO: could have a list of unselected factions passed down to prevent duplicates\r\n    //TODO: work out a better way of recording all the faction details (enum equivalent?)\r\n    getFactionList() {\r\n        let factionElements = FACTIONS.map((faction) => \r\n            <option key={faction} value={faction}>\r\n                {faction}\r\n            </option>);\r\n\r\n        //TODO: consider a datalist instead. Allows type-ahead but clearing is clunky\r\n        return <select \r\n            id=\"factions\" \r\n            required \r\n            defaultValue={this.props.playerDetail.faction}\r\n            onChange={this.props.onFactionChange}\r\n        >\r\n            {factionElements}\r\n        </select>;\r\n    }\r\n\r\n    getColourList() {\r\n        let colourElements = COLOURS.map((colour) => \r\n        <option key={colour.description} value={JSON.stringify(colour)}>\r\n            {colour.description}\r\n        </option>);\r\n\r\n        let playerColour = this.props.playerDetail.colour ? this.props.playerDetail.colour.colour : null;\r\n\r\n        return <select \r\n            id=\"colours\" \r\n            required \r\n            defaultValue={playerColour} \r\n            onChange={this.props.onColourChange}\r\n        >\r\n            {colourElements}\r\n        </select>;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input \r\n                    type=\"text\"\r\n                    defaultValue={this.props.playerDetail.playerName} \r\n                    onChange={this.props.onPlayerNameChange}\r\n                />\r\n                {this.getFactionList()}\r\n                {this.getColourList()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PlayerSelect;","import React from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {Row, Col} from 'react-bootstrap';\r\n\r\nconst STRATEGIES = [\r\n    {name: \"\", number: null, colour: null},\r\n    {name: \"Leadership\", number: 1, colour: \"red\"},\r\n    {name: \"Diplomacy\", number: 2, colour: \"orange\"},\r\n    {name: \"Politics\", number: 3, colour: \"yellow\"},\r\n    {name: \"Construction\", number: 4, colour: \"#307843\"},\r\n    {name: \"Trade\", number: 5, colour: \"#58e87e\"},\r\n    {name: \"Warfare\", number: 6, colour: \"cyan\"},\r\n    {name: \"Technology\", number: 7, colour: \"#084bc9\"},\r\n    {name: \"Imperial\", number: 8, colour: \"purple\"},\r\n];\r\n\r\nclass StrategySelect extends React.Component {\r\n    handleStartRound() {\r\n        if (this.props.onStartRound) {\r\n            return () => this.props.onStartRound()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    {/*TODO: add strategy cards */}\r\n                </Row>\r\n                <Row>\r\n                    <PlayerStrategyForm\r\n                        playerDetails={this.props.playerDetails}\r\n                        onPlayerStrategyChange={(e, playerNumber) => this.props.onPlayerStrategyChange(e, playerNumber)}\r\n                    />\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <Button variant=\"light\" type=\"button\" onClick={() => this.props.onToggleTimers()}>\r\n                            {this.props.isGameActive ? \"Pause Game\" : \"Resume Game\"}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col>\r\n                        <Button type=\"button\" onClick={this.handleStartRound()}>\r\n                            Start Round\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass PlayerStrategyForm extends React.Component {\r\n    renderPlayerStrategyEntries() {\r\n        const players = this.props.playerDetails.slice();\r\n        var speakerIndex = 0;\r\n        for (let i = 0; i < players.length; i++) {\r\n            speakerIndex = players[i].isSpeaker ? i : speakerIndex;\r\n        }\r\n\r\n        let playerStrategyEntries = Array(players.length).fill(null);\r\n        for (let i = 0; i < players.length; i++) {\r\n            let destinationIndex = (((i - speakerIndex) % players.length) + players.length) % players.length;\r\n            playerStrategyEntries[destinationIndex] =\r\n                <PlayerStrategyEntry\r\n                    key={players[i].playerNumber}\r\n                    playerDetail={players[i]}\r\n                    onStrategyChange={e => this.props.onPlayerStrategyChange(e, players[i].playerNumber)}\r\n                />\r\n        }\r\n            \r\n        return (<div>\r\n            {playerStrategyEntries}\r\n        </div>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderPlayerStrategyEntries()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass PlayerStrategyEntry extends React.Component {\r\n    getStrategyList() {\r\n        let strategyElements = STRATEGIES.map((strategy) => \r\n            <option key={strategy.name} value={JSON.stringify(strategy)}>\r\n                {strategy.name}\r\n            </option>);\r\n\r\n        let playerStrategy = this.props.playerDetail.strategy ? this.props.playerDetail.strategy.description : null;\r\n\r\n        return <select \r\n            id=\"strategies\" \r\n            required \r\n            defaultValue={playerStrategy} \r\n            onChange={this.props.onStrategyChange}\r\n        >\r\n            {strategyElements}\r\n        </select>;\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input \r\n                    key=\"playerName\"\r\n                    type=\"text\"\r\n                    defaultValue={this.props.playerDetail.playerName} \r\n                    disabled\r\n                />\r\n                <input \r\n                    key=\"playerFaction\"\r\n                    type=\"text\"\r\n                    defaultValue={this.props.playerDetail.faction} \r\n                    disabled\r\n                />\r\n                {this.getStrategyList()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default StrategySelect;","import React from 'react';\r\nimport './TimerBlock.css';\r\n\r\nconst secondsInMinute = 60;\r\nconst secondsInHour = 60 * 60;\r\n\r\nfunction Timer(props) {\r\n    return (\r\n        <button className=\"timer\" onClick={props.onClick} disabled={props.disabled}>\r\n            {props.time}\r\n        </button>\r\n    );\r\n}\r\n\r\nclass TimerBlock extends React.Component {\r\n    render() {\r\n        const time = parseTime(this.props.currentSeconds);\r\n\r\n        let interactive = this.props.onClick;\r\n\r\n        return (\r\n            <span className=\"Timer\">\r\n                <label className=\"timerLabel\">{this.props.label}</label>\r\n                <Timer time={time} disabled={this.props.disabled} onClick={interactive ? () => this.props.onClick(this.props.currentSeconds) : null} />\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\n//-------------------------------------------\r\n\r\nfunction parseTime(totalSeconds) {\r\n    if (!totalSeconds) {\r\n        return \"00:00\";\r\n    }\r\n\r\n    const hours = Math.floor(totalSeconds / secondsInHour);\r\n    const minutes = Math.floor((totalSeconds % secondsInHour) / secondsInMinute);\r\n    const seconds = totalSeconds % secondsInMinute;\r\n\r\n    var time = hours > 0 ? hours + \":\" : \"\";\r\n    time += (minutes < 10 ? \"0\" + minutes : minutes) + \":\";\r\n    time += seconds < 10 ? \"0\" + seconds : seconds;\r\n\r\n    return time;\r\n}\r\n\r\nexport default TimerBlock;","import React from 'react';\r\nimport TimerBlock from './TimerBlock';\r\nimport Button from 'react-bootstrap/Button'\r\nimport {Row, Col} from 'react-bootstrap'\r\n\r\nimport './StatusBoard.css';\r\n\r\nclass StatusBoard extends React.Component {\r\n    render() {\r\n        let playerCards = this.props.players.map(\r\n            (player) => \r\n            <Col key={player.playerNumber}>\r\n                <PlayerCard key={player.playerNumber} player={player} onEndTurn={() => this.props.onEndTurn()}/>\r\n            </Col>\r\n        );\r\n\r\n        return (\r\n            <Row className=\"d-flex flex-column\">\r\n                <Row>\r\n                    {playerCards}\r\n                </Row>\r\n                <Row className=\"d-flex align-items-end\">\r\n                    <Col s={{ span: 3, offset: 1}}>\r\n                        <Button variant=\"success\" type=\"button\" onClick={() => this.props.onEndTurn()}>\r\n                            End Turn\r\n                        </Button>\r\n                    </Col>\r\n                    <Col s={{ span: 3, offset: 1}}>\r\n                        <Button variant=\"light\" type=\"button\" onClick={() => this.props.onToggleTimers()}>\r\n                            {this.props.isGameActive ? \"Pause Game\" : \"Resume Game\"}\r\n                        </Button>\r\n                    </Col>\r\n                    <Col s={{ span: 3, offset: 1}}>\r\n                        <Button type=\"button\" onClick={() => this.props.onEndRound()}>\r\n                            End Round\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass PlayerCard extends React.Component {\r\n    render() {\r\n        const player = this.props.player;\r\n        let playerColour = player.colour ? player.colour.colour : null;\r\n        let playerStrategy = player.strategy;\r\n        let playerStrategyButton = playerStrategy ? \r\n            <button \r\n                className=\"strategyCardButton\" \r\n                type=\"button\"\r\n                style={{backgroundColor: playerStrategy.colour,}}\r\n            >\r\n                {playerStrategy.number}\r\n            </button> : \r\n            null;\r\n\r\n        return (\r\n            <div className=\"playerCardColumn\">\r\n                <div \r\n                    className={`currentPlayerBlock${player.isActivePlayer ? \" activePlayerBlock\" : \"\"}`}\r\n                    onClick={this.props.onEndTurn}\r\n                >\r\n                    {player.isActivePlayer ? \"Current Player\" : \"\"}\r\n                </div>\r\n                <div className=\"playerCard\">\r\n                    <div style={{backgroundColor: playerColour,}}>\r\n                        <div>{player.playerName}</div>\r\n                        <div>{player.faction}</div>\r\n                    </div>\r\n                    <div>\r\n                        <TimerBlock currentSeconds={player.timer.currentSeconds} disabled={true}/>\r\n                    </div>\r\n                    <button className= \"victoryPointButton\" type=\"button\">\r\n                        {player.victoryPoints}\r\n                    </button>\r\n                    <hr className=\"playerCardDivider\"/>\r\n                    {playerStrategyButton}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default StatusBoard;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport objective_store from './data/objectives.json';\r\n\r\nexport default function ObjectiveSelectModal(props) {\r\n    if (!props.showModal) {\r\n        return null;\r\n    }\r\n\r\n    let selectedObjectives = props.objectives.map((objective) => objective.isRevealed ? objective : null);\r\n    selectedObjectives = selectedObjectives.filter((objective) => objective !== null);\r\n\r\n    let availableObjectives = objective_store.filter((objective) => objective.stage === props.stage);\r\n    availableObjectives = availableObjectives.filter(\r\n        (objective) => !selectedObjectives.some(\r\n            function (selectedObjective) {\r\n                return objective.id === selectedObjective.id;\r\n            }\r\n       )\r\n    );\r\n\r\n    let objectiveElements = Array(1);\r\n    objectiveElements[0] = \r\n        <option key=\"unselected\" className=\"nullOption\" value={null} hidden>\r\n            {\"Select...\"}\r\n        </option>;\r\n    objectiveElements = objectiveElements.concat(availableObjectives.map(\r\n        (objective) => <option key={objective.id} value={JSON.stringify(objective)}>\r\n            {objective.name}\r\n        </option>));\r\n    \r\n    let objectiveSelect = <select id=\"objectives\" required onChange={props.onObjectiveChange}>\r\n        {objectiveElements}\r\n    </select>;\r\n\r\n    return (\r\n        <Modal show={props.showModal} onHide={props.onCloseModal} centered>\r\n            <Modal.Header>\r\n                <Modal.Title>Select Public Objective</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"d-flex flex-column\">\r\n                    {objectiveSelect}\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <br/>\r\n                    <p className=\"objectiveLongDescription\">\r\n                        {props.selectedObjectiveSelection ? props.selectedObjectiveSelection.longDescription : \"\"}\r\n                    </p>\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={props.onCloseModal}>\r\n                    Cancel\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={props.onConfirmModal} disabled={!props.selectedObjectiveSelection}>\r\n                    Confirm\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ObjectivePanel(props) {\r\n    let objectiveBlocks = Array(props.objectives.length);\r\n\r\n    for (let i = 0; i < props.objectives.length; i++) {\r\n        const objective = props.objectives[i];\r\n        objectiveBlocks[i] = <ObjectiveCard \r\n            key={objective.order} \r\n            name={objective.name} \r\n            stage={objective.stage} \r\n            shortDescription={objective.shortDescription} \r\n            isRevealed={objective.isRevealed} \r\n            onObjectiveCardClick={() => props.onObjectiveCardClick(i)} \r\n        />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {objectiveBlocks}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction ObjectiveCard(props) {\r\n    let cardDisplay = props.isRevealed ? props.shortDescription : props.stage;\r\n\r\n    return (\r\n        <div>\r\n            <button \r\n                type=\"button\" \r\n                className={`objectiveCard stage${props.stage} ${props.isRevealed ? \"revealed\" : \"\"}`} \r\n                onClick={props.onObjectiveCardClick}\r\n            >\r\n                {cardDisplay}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport PlayerSelect from './PlayerSelect';\r\nimport StrategySelect from './StrategySelect';\r\nimport StatusBoard from './StatusBoard';\r\nimport TimerBlock from './TimerBlock';\r\nimport ObjectiveSelectModal from './ObjectiveSelectModal';\r\nimport ObjectivePanel from './ObjectivePanel';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\n\r\nimport './GameManager.css';\r\nimport { Col } from 'react-bootstrap';\r\n\r\nconst MODE_PLAYER_SELECT = 1;\r\nconst MODE_STRATEGY = 2;\r\nconst MODE_STATUS_BOARD = 3;\r\n\r\nconst NUMBER_STRATEGIES = 8;\r\nconst NUMBER_OBJECTIVES_STAGE_ONE = 5;\r\nconst NUMBER_OBJECTIVES_STAGE_TWO = 5;\r\n\r\n\r\nclass GameManager extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //View controls\r\n            gameMode: MODE_PLAYER_SELECT,\r\n            showObjectiveSelectModal: false,\r\n\r\n            //Temporary State\r\n            selectedObjective: null,\r\n            selectedObjectiveSelection: null, //used for the objective select modal to record the current selection\r\n\r\n            //Game Details\r\n            playerDetails: null,\r\n            roundNumber: 1,\r\n            totalGameTimer: {\r\n                baseSeconds: 0,\r\n                currentSeconds: 0,\r\n                countStartTime: Date.now(),\r\n                isCounting: false,\r\n            },\r\n            currentTurnTimer: {\r\n                baseSeconds: 0,\r\n                currentSeconds: 0,\r\n                countStartTime: Date.now(),\r\n                isCounting: false,\r\n            },\r\n            publicObjectives: this.fillPublicObjectives(),\r\n        };\r\n    }\r\n\r\n    //#region Lifecycle\r\n    componentDidMount() {\r\n        this.heartbeat = setInterval(() => this.recalculateTimers(), 500);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.heartbeat);\r\n    }\r\n    //#endregion\r\n\r\n    //#region Event Handlers\r\n    handleStartGame(playerDetails) {\r\n        this.setState({\r\n            playerDetails: playerDetails,\r\n            gameMode: MODE_STRATEGY,\r\n        });\r\n\r\n        this.startGameTimer();\r\n    }\r\n\r\n    handlePlayerStrategyChange(e, playerNumber) {\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        playerDetails[playerNumber].strategy = JSON.parse(e.target.value);\r\n        this.setState({\r\n            playerDetails: playerDetails,\r\n        });\r\n    }\r\n\r\n    handleStartRound() {\r\n        this.setState({\r\n            gameMode: MODE_STATUS_BOARD,\r\n        });\r\n\r\n        this.startGameTimer();\r\n        this.startTurnTimers();\r\n    }\r\n\r\n    handleTurnTimerClicked() {\r\n        if (this.state.currentTurnTimer.isCounting) {\r\n            this.stopTurnTimers();\r\n        }\r\n        else {\r\n            this.startTurnTimers();\r\n            this.startGameTimer(); //if turn timers are running, the game timer should be as well\r\n        }\r\n    }\r\n\r\n    handleGameTimerClicked() {\r\n        if (this.state.totalGameTimer.isCounting) {\r\n            this.stopGameTimer();\r\n            this.stopTurnTimers(); //if the game timer is stopped, all timers should be stopped\r\n        }\r\n        else {\r\n            this.startGameTimer();\r\n        }\r\n    }\r\n\r\n    handleEndRound() {\r\n        let playerDetails = this.state.playerDetails.slice().map(\r\n            player => ({\r\n                ...player,\r\n                strategy: null,\r\n            })\r\n        );\r\n\r\n        this.setState({\r\n            gameMode: MODE_STRATEGY,\r\n            roundNumber: this.state.roundNumber + 1,\r\n            playerDetails: playerDetails,\r\n        });\r\n\r\n        this.stopTurnTimers(true); //turns aren't occurring between rounds\r\n        this.startGameTimer(); //activity means the game timer should almost certainly be on\r\n    }\r\n\r\n    handleToggleTimers() {\r\n        if (this.state.totalGameTimer.isCounting) {\r\n            this.stopGameTimer();\r\n            this.stopTurnTimers();\r\n        }\r\n        else {\r\n            this.startGameTimer();\r\n            this.state.gameMode === MODE_STATUS_BOARD && this.startTurnTimers();\r\n        }\r\n    }\r\n\r\n    handleEndTurn() {\r\n        this.startGameTimer();\r\n        this.restartTurnTimers();\r\n    }\r\n\r\n    handleObjectiveCardClicked(index) {\r\n        let objective = this.state.publicObjectives[index];\r\n        if (!objective.isRevealed && objective.order === this.nextUnrevealedObjective()) {\r\n            this.setState({ \r\n                showObjectiveSelectModal: true,\r\n                selectedObjective: objective,\r\n            });\r\n        }\r\n    }\r\n\r\n    handleObjectiveChange(e) {\r\n        let newObjective = JSON.parse(e.target.value);\r\n        this.setState({\r\n            selectedObjectiveSelection: newObjective,\r\n        });\r\n    }\r\n\r\n    handleCloseObjectiveSelectModal(isConfirmed) {\r\n        if(isConfirmed && this.state.selectedObjectiveSelection && this.state.selectedObjective) {\r\n            let newObjective = {...this.state.selectedObjectiveSelection};\r\n            newObjective.isRevealed = true;\r\n            newObjective.order = this.state.selectedObjective.order;\r\n\r\n            let newPublicObjectives = this.state.publicObjectives.slice();\r\n            newPublicObjectives[this.state.selectedObjective.order] = newObjective;\r\n            \r\n            this.setState({\r\n                publicObjectives: newPublicObjectives,\r\n                showObjectiveSelectModal: false,\r\n            });\r\n        }\r\n\r\n        this.setState({\r\n            showObjectiveSelectModal: false,\r\n            selectedObjective: null,\r\n            selectedObjectiveSelection: null,\r\n        });\r\n    }\r\n    //#endregion\r\n\r\n    //#region Commands\r\n    fillPublicObjectives() {\r\n        let numberObjectives = NUMBER_OBJECTIVES_STAGE_ONE + NUMBER_OBJECTIVES_STAGE_TWO;\r\n        let objectives = Array(numberObjectives);\r\n        for (let i = 0; i < numberObjectives; i++) {\r\n            objectives[i] = {\r\n                id: null,\r\n                order: i,\r\n                stage: i < NUMBER_OBJECTIVES_STAGE_ONE ? 1 : 2,\r\n                name: null,\r\n                longDescription: null,\r\n                shortDescription: null,\r\n                isRevealed: false,\r\n            }\r\n        }\r\n        return objectives;\r\n    }\r\n\r\n    nextUnrevealedObjective() {\r\n        for (let i = 0; i < this.state.publicObjectives.length; i++) {\r\n            if (!this.state.publicObjectives[i].isRevealed) {\r\n                return this.state.publicObjectives[i].order;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    recalculateTimers() {\r\n        if (this.state.totalGameTimer && this.state.totalGameTimer.isCounting) {\r\n            this.recalculateGameTime();\r\n        }\r\n        if (this.state.currentTurnTimer && this.state.currentTurnTimer.isCounting) {\r\n            this.recalculateTurnTime();\r\n        }\r\n    }\r\n\r\n    recalculateGameTime() {\r\n        let timer = { ...this.state.totalGameTimer };\r\n        timer.currentSeconds = timer.baseSeconds + Math.floor((Date.now() - timer.countStartTime) / 1000);\r\n\r\n        this.setState({\r\n            totalGameTimer: timer,\r\n        });\r\n    }\r\n\r\n    recalculateTurnTime() {\r\n        let timer = { ...this.state.currentTurnTimer };\r\n        timer.currentSeconds = timer.baseSeconds + Math.floor((Date.now() - timer.countStartTime) / 1000);\r\n\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        for (let i = 0; i < playerDetails.length; i++) {\r\n            if (playerDetails[i].isActivePlayer) {\r\n                let playerTimer = {\r\n                    ...playerDetails[i].timer,\r\n                };\r\n                playerTimer.currentSeconds = playerTimer.baseSeconds + Math.floor((Date.now() - playerTimer.countStartTime) / 1000);\r\n                playerDetails[i].timer = playerTimer;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentTurnTimer: timer,\r\n            playerDetails: playerDetails,\r\n        });\r\n    }\r\n\r\n    startTurnTimers() {\r\n        if (this.state.currentTurnTimer.isCounting) {\r\n            return; //do nothing if already counting\r\n        }\r\n        let timer = { ...this.state.currentTurnTimer };\r\n        timer.isCounting = true;\r\n        timer.countStartTime = Date.now();\r\n\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        for (let i = 0; i < playerDetails.length; i++) {\r\n            if (playerDetails[i].isActivePlayer) {\r\n                let playerTimer = {\r\n                    ...playerDetails[i].timer,\r\n                    isCounting: true,\r\n                    countStartTime: Date.now(),\r\n                };\r\n\r\n                let player = { ...playerDetails[i] };\r\n                player.timer = playerTimer;\r\n                playerDetails[i] = player;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentTurnTimer: timer,\r\n            playerDetails: playerDetails,\r\n        })\r\n    }\r\n\r\n    stopTurnTimers(resetCurrentTurn) {\r\n        if (!this.state.currentTurnTimer.isCounting) {\r\n            return; //do nothing if already stopped\r\n        }\r\n        let timer = { ...this.state.currentTurnTimer };\r\n        timer.isCounting = false;\r\n        if (resetCurrentTurn) {\r\n            timer.baseSeconds = 0;\r\n            timer.currentSeconds = 0;\r\n        }\r\n        else {\r\n            timer.baseSeconds = timer.currentSeconds;\r\n        }\r\n\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        for (let i = 0; i < playerDetails.length; i++) {\r\n            if (playerDetails[i].isActivePlayer) {\r\n                let playerTimer = {\r\n                    ...playerDetails[i].timer,\r\n                    isCounting: false,\r\n                };\r\n                playerTimer.baseSeconds = playerTimer.currentSeconds;\r\n\r\n                let player = { ...playerDetails[i] };\r\n                player.timer = playerTimer;\r\n                playerDetails[i] = player;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentTurnTimer: timer,\r\n            playerDetails: playerDetails,\r\n        })\r\n    }\r\n\r\n    restartTurnTimers() {\r\n        //TODO needs to stop the ending player's turn timer and start the next one as well\r\n        let timer = {\r\n            baseSeconds: 0,\r\n            currentSeconds: 0,\r\n            countStartTime: Date.now(),\r\n            isCounting: true,\r\n        };\r\n\r\n        let nextPlayer = this.getNextPlayer(this.getActivePlayer());\r\n        let playerDetails = this.state.playerDetails.slice();\r\n        for (let i = 0; i < playerDetails.length; i++) {\r\n            if (playerDetails[i].isActivePlayer) {\r\n                let playerTimer = {\r\n                    ...playerDetails[i].timer,\r\n                    isCounting: false,\r\n                };\r\n                playerTimer.baseSeconds = playerTimer.currentSeconds;\r\n\r\n                let player = { ...playerDetails[i] };\r\n                player.timer = playerTimer;\r\n                player.isActivePlayer = false;\r\n                playerDetails[i] = player;\r\n            }\r\n            else if (playerDetails[i].playerNumber === nextPlayer.playerNumber) {\r\n                let playerTimer = {\r\n                    ...playerDetails[i].timer,\r\n                    isCounting: true,\r\n                    countStartTime: Date.now(),\r\n                };\r\n\r\n                let player = { ...playerDetails[i] };\r\n                player.timer = playerTimer;\r\n                player.isActivePlayer = true;\r\n                playerDetails[i] = player;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentTurnTimer: timer,\r\n            playerDetails: playerDetails,\r\n        })\r\n    }\r\n\r\n    startGameTimer() {\r\n        if (this.state.totalGameTimer.isCounting) {\r\n            return; //do nothing if already counting\r\n        }\r\n        let timer = { ...this.state.totalGameTimer };\r\n        timer.isCounting = true;\r\n        timer.countStartTime = Date.now();\r\n\r\n        this.setState({\r\n            totalGameTimer: timer\r\n        })\r\n    }\r\n\r\n    stopGameTimer() {\r\n        if (!this.state.totalGameTimer.isCounting) {\r\n            return; //do nothing if already stopped\r\n        }\r\n        let timer = { ...this.state.totalGameTimer };\r\n        timer.baseSeconds = timer.currentSeconds;\r\n        timer.isCounting = false;\r\n\r\n        this.setState({\r\n            totalGameTimer: timer\r\n        })\r\n    }\r\n\r\n    getActivePlayer() {\r\n        for (let i = 0; i < this.state.playerDetails.length; i++) {\r\n            if (this.state.playerDetails[i].isActivePlayer) {\r\n                return this.state.playerDetails[i];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getNextPlayer(activePlayer) {\r\n        //TODO Factor in Naalu initiative (race or promissory)\r\n        let nextPlayer = activePlayer;\r\n        // determine the highest initiative number that could possibly be next. Offset by the number of strategies to allow it to loop back;\r\n        let highestInitiativeNumber = activePlayer.strategy.number + NUMBER_STRATEGIES - 1;\r\n        for (let i = 0; i < this.state.playerDetails.length; i++) {\r\n            let player = this.state.playerDetails[i];\r\n            if (!player.isActivePlayer) {\r\n                // determine the player initiative number, offset by the number of strategies to allow it to loop back\r\n                let playerInitiativeNumber =\r\n                    player.strategy.number < activePlayer.strategy.number ?\r\n                        player.strategy.number + NUMBER_STRATEGIES :\r\n                        player.strategy.number;\r\n                if (playerInitiativeNumber < highestInitiativeNumber) {\r\n                    highestInitiativeNumber = playerInitiativeNumber;\r\n                    nextPlayer = player;\r\n                }\r\n            }\r\n        }\r\n        return nextPlayer;\r\n    }\r\n    //#endregion\r\n\r\n    //#region Rendering methods\r\n    renderGameComponent() {\r\n        switch (this.state.gameMode) {\r\n            case MODE_PLAYER_SELECT:\r\n                return this.renderPlayerSelect();\r\n            case MODE_STRATEGY:\r\n                return this.renderStrategy();\r\n            case MODE_STATUS_BOARD:\r\n                return this.renderStatusBoard();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    renderPlayerSelect() {\r\n        return (\r\n            <div>\r\n                <PlayerSelect onStartGame={playerDetails => this.handleStartGame(playerDetails)} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderStrategy() {\r\n        return (\r\n            <Container fluid={true}>\r\n                <Row>{this.renderGameHeader(false)}</Row>\r\n                <Row>\r\n                    {this.renderObjectivePanel()}\r\n                    <Col>\r\n                        <StrategySelect\r\n                            playerDetails={this.state.playerDetails}\r\n                            isGameActive={this.state.totalGameTimer.isCounting}\r\n                            onToggleTimers={() => this.handleToggleTimers()}\r\n                            onStartRound={() => this.handleStartRound()}\r\n                            onPlayerStrategyChange={(e, playerNumber) => this.handlePlayerStrategyChange(e, playerNumber)}\r\n                            />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    renderStatusBoard() {\r\n        return (\r\n            <Container fluid={true}>\r\n                <Row>{this.renderGameHeader(true)}</Row>\r\n                <Row>\r\n                    {this.renderObjectivePanel()}\r\n                    <Col>\r\n                        <StatusBoard\r\n                            roundNumber={this.state.roundNumber}\r\n                            isGameActive={this.state.totalGameTimer.isCounting}\r\n                            players={this.state.playerDetails}\r\n                            onEndTurn={() => this.handleEndTurn()}\r\n                            onToggleTimers={() => this.handleToggleTimers()}\r\n                            onEndRound={() => this.handleEndRound()}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    renderGameHeader(showTurnTimer) {\r\n        return <GameHeader\r\n            roundNumber={this.state.roundNumber}\r\n            totalGameTimer={this.state.totalGameTimer}\r\n            showTurnTimer={showTurnTimer}\r\n            currentTurnTimer={this.state.currentTurnTimer}\r\n            onTurnTimerClick={() => this.handleTurnTimerClicked()}\r\n            onGameTimerClick={() => this.handleGameTimerClicked()}\r\n        />\r\n    }\r\n\r\n\r\n    renderObjectivePanel() {\r\n        return <ObjectivePanel\r\n            className=\"objectivePanel\"\r\n            objectives={this.state.publicObjectives}\r\n            onObjectiveCardClick={(index) => this.handleObjectiveCardClicked(index)}\r\n        />\r\n    }\r\n    //#endregion\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderGameComponent()}\r\n                <ObjectiveSelectModal\r\n                    showModal={this.state.showObjectiveSelectModal}\r\n                    objectives={this.state.publicObjectives}\r\n                    stage={this.state.selectedObjective ? this.state.selectedObjective.stage : null}\r\n                    selectedObjectiveSelection={this.state.selectedObjectiveSelection}\r\n                    onConfirmModal={() => this.handleCloseObjectiveSelectModal(true)}\r\n                    onCloseModal={() => this.handleCloseObjectiveSelectModal()}\r\n                    onObjectiveChange={e => this.handleObjectiveChange(e)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction GameHeader(props) {\r\n    let turnTimer = props.showTurnTimer ?\r\n        <TimerBlock\r\n            id=\"turnTimer\"\r\n            label=\"Turn Time\"\r\n            currentSeconds={props.currentTurnTimer.currentSeconds}\r\n            onClick={() => props.onTurnTimerClick()}\r\n        /> :\r\n        null;\r\n\r\n    return (\r\n        <div>\r\n            <label className=\"timerLabel\">{\"Round: \" + props.roundNumber}</label>\r\n            {turnTimer}\r\n            <TimerBlock\r\n                id=\"turnTimer\"\r\n                label=\"Total Game Time\"\r\n                currentSeconds={props.totalGameTimer.currentSeconds}\r\n                onClick={() => props.onGameTimerClick()}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GameManager;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport GameManager from './GameManager';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// import './index.css';\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './custom.scss';\r\n\r\n// ReactDOM.render(\r\n//     <TimerBlock label=\"Total Time\" baseSeconds={5500} currentSeconds={0} isCounting={true}/>,\r\n//     document.getElementById(\"root\")\r\n//   );\r\n\r\nReactDOM.render(\r\n    <GameManager/>,\r\n    document.getElementById(\"root\")\r\n  );\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n"],"sourceRoot":""}