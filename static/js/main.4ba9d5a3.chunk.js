(this.webpackJsonpti4companion=this.webpackJsonpti4companion||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"Biotic":[{"number":1,"name":"Neural Motivator","type":"Biotic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"During the status phase, draw 2 action cards instead of 1."},{"number":2,"name":"Dacxive Animators","type":"Biotic","text":"","greenRequirement":1,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"After you win a ground combat, you may place 1 infantry from your reinforcements on that planet."},{"number":3,"name":"Hyper Metabolism","type":"Biotic","text":"","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"During the status phase, gain 3 command tokens instead of 2."},{"number":4,"name":"X-89 Bacterial Weapon","type":"Biotic","text":"","greenRequirement":3,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"ACTION: Exhaust this card and choose 1 planet in a system that contains 1 or more of your ships that have BOMBARDMENT; destroy all infantry on that planet."}],"Warfare":[{"number":1,"name":"Plasma Scoring","type":"Warfare","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"When 1 or more of your units use?Bombardment?or?Space Cannon, 1 of those rolls may roll 1 additional die."},{"number":2,"name":"Magen Defense Grid","type":"Warfare","text":"","greenRequirement":0,"redRequirement":1,"blueRequirement":0,"yellowRequirement":0,"description":"You may exhaust this card at the start of a round of ground combat on a planet that contains 1 or more of your units that have?Planetary Shield; your opponent cannot make combat rolls this combat round."},{"number":3,"name":"Duranium Armor","type":"Warfare","text":"","greenRequirement":0,"redRequirement":2,"blueRequirement":0,"yellowRequirement":0,"description":"During each combat round, after you assign hits to your units, repair 1 of your damaged units that did not use?Sustain Damage?during this combat round."},{"number":4,"name":"Assault Cannon","type":"Warfare","text":"","greenRequirement":0,"redRequirement":3,"blueRequirement":0,"yellowRequirement":0,"description":"At the start of a space combat in a system that contains 3 or more of your non-fighter ships, your opponent must destroy 1 of his non-fighter ships."}],"Propulsion":[{"number":1,"name":"Antimass Deflectors","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"Your ships can move into and through asteroid fields. When other players\u2019 units use SPACE CANNON against your units, apply -1 to the result of each die roll."},{"number":2,"name":"Gravity Drive","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":1,"yellowRequirement":0,"description":"After you activate a system, apply +1 to the move value of 1 of your ships during this tactical action."},{"number":3,"name":"Fleet Logistics","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":"During each of your turns of the action phase, you may perform 2 actions instead of 1."},{"number":4,"name":"Light/Wave Deflector","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":3,"yellowRequirement":0,"description":"Your ships can move through systems that contain other player\u2019s ships."}],"Cybernetic":[{"number":1,"name":"Sarween Tools","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"When 1 or more of your units use?Production, reduce the combined cost of the produced units by 1."},{"number":2,"name":"Graviton Laser System","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":1,"description":"You may exhaust this card before 1 or more of your units uses?Space Cannon; hits produced by those units must be assigned to non-fighter ships if able."},{"number":3,"name":"Transit Diodes","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"You may exhaust this card at the start of your turn during the action phase; remove up to 4 of your ground forces from the game board and place them on 1 or more planets you control."},{"number":4,"name":"Integrated Economy","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":3,"description":"After you gain control of a planet, you may produce any number of units on that planet that have a combined cost equal to or less than that planet\u2019s resource value."}],"Ship":[{"number":1,"name":"Carrier II","type":"Unit","text":"Ca","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":""},{"number":2,"name":"Cruiser II","type":"Unit","text":"Cr","greenRequirement":1,"redRequirement":1,"blueRequirement":0,"yellowRequirement":1,"description":""},{"number":3,"name":"Destroyer II","type":"Unit","text":"De","greenRequirement":0,"redRequirement":2,"blueRequirement":0,"yellowRequirement":0,"description":""},{"number":4,"name":"Dreadnought II","type":"Unit","text":"Dr","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":1,"description":""}],"Unit":[{"number":1,"name":"Fighter II","type":"Unit","text":"Fi","greenRequirement":1,"redRequirement":0,"blueRequirement":1,"yellowRequirement":0,"description":""},{"number":2,"name":"Infantry II","type":"Unit","text":"Inf","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":""},{"number":3,"name":"PDS II","type":"Unit","text":"PDS","greenRequirement":0,"redRequirement":1,"blueRequirement":0,"yellowRequirement":1,"description":""},{"number":4,"name":"Space Dock II","type":"Unit","text":"SD","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":""}],"Warsun":[{"number":1,"name":"War Sun","type":"Unit","text":"War Sun","greenRequirement":0,"redRequirement":3,"blueRequirement":0,"yellowRequirement":1,"description":""}],"Arborec":[{"number":1,"name":"Bioplasmosis","type":"Biotic","text":"","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"At the end of the status phase, you may remove any number of infantry from planets you control and place them on 1 or more planets you control in the same or adjacent systems."},{"number":2,"name":"Letani Warrior II","type":"Unit","text":"Inf","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":""}],"Letnev":[{"number":1,"name":"L4 Disruptors","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":1,"description":"During an invasion, units cannot use?Space Cannon?against your units."},{"number":2,"name":"Non-Euclidean Shielding","type":"Warfare","text":"","greenRequirement":0,"redRequirement":2,"blueRequirement":0,"yellowRequirement":0,"description":"When 1 of your units uses?Sustain Damage, cancel 2 hits instead of 1."}],"Hacan":[{"number":1,"name":"Production Biomes","type":"Biotic","text":"","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"ACTION:?Exhaust this card and spend 1 token from your strategy pool to gain 4 trade goods and choose 1 other player; that player gains 2 trade goods."},{"number":2,"name":"Quantum Datahub Node","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":3,"description":"At the end of the strategy phase, you may spend 1 token from your strategy pool and give another player 3 of your trade goods.? If you do, give 1 of your strategy cards to that player and take 1 of his strategy cards."}],"Naalu":[{"number":1,"name":"Neuroglaive","type":"Biotic","text":"","greenRequirement":3,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"After another player activates a system that contains 1 or more of your ships, that player removes 1 token from his fleet pool and returns it to his reinforcements."},{"number":2,"name":"Hybrid Crystal Fighter II","type":"Unit","text":"Fi","greenRequirement":1,"redRequirement":0,"blueRequirement":1,"yellowRequirement":0,"description":""}],"Xxcha":[{"number":1,"name":"Instinct Training","type":"Biotic","text":"","greenRequirement":1,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"You may exhaust this card and spend 1 token from your strategy pool when another player plays an action card; cancel that action card."},{"number":2,"name":"Nullification Field","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"After another player activates a system that contains 1 or more of your ships, you may exhaust this card and spend 1 token from your strategy pool; immediately end that player\'s turn."}],"Yin":[{"number":1,"name":"Yin Spinner","type":"Biotic","text":"","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"After 1 or more of your units use?Production, place 1 infantry from your reinforcements on a planet you control in that system."},{"number":2,"name":"Impulse Core","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"At the start of a space combat, you may destroy 1 of your cruisers or destroyers in the active system to produce 1 hit against your opponent\'s ships; that hit must be assigned by your opponent to 1 of his non-fighters ships if able."}],"Yssaril":[{"number":1,"name":"Transparasteel Plating","type":"Biotic","text":"","greenRequirement":1,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"During your turn of the action phase, players that have passed cannot play action cards."},{"number":2,"name":"Mageon Implants","type":"Biotic","text":"","greenRequirement":3,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"ACTION:?Exhaust this card to look at another player\'s hand of action cards.? Choose 1 of those cards and add it to your hand."}],"Muaat":[{"number":1,"name":"Magmus Reactor","type":"Warfare","text":"","greenRequirement":0,"redRequirement":2,"blueRequirement":0,"yellowRequirement":0,"description":"Your ships can move into supernovas. After 1 or more of your units use?Production?in a system that either contains a war sun or is adjacent to a supernova, gain 1 trade good."},{"number":2,"name":"Prototype War Sun II","type":"Unit","text":"WS","greenRequirement":0,"redRequirement":3,"blueRequirement":0,"yellowRequirement":1,"description":""}],"Creuss":[{"number":1,"name":"Dimensional Splicer","type":"Warfare","text":"","greenRequirement":0,"redRequirement":1,"blueRequirement":0,"yellowRequirement":0,"description":"At the start of space combat in a system that contains a wormhole and 1 or more of your ships, you may produce 1 hit and assign it to 1 of your opponent\'s ships."},{"number":2,"name":"Wormhole Generator","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":"At the start of the?status phase, place or move a Creuss wormhole token into either a system that contains a planet you control or a non-home system that does not contain another player\'s ships."}],"Sardakk":[{"number":1,"name":"Valkyrie Particle Weave","type":"Warfare","text":"","greenRequirement":0,"redRequirement":2,"blueRequirement":0,"yellowRequirement":0,"description":"After making combat rolls during a round of ground combat, if your opponent produced 1 or more hits, you produce 1 additional hit."},{"number":2,"name":"Exotrireme II","type":"Unit","text":"Dr","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":1,"description":""}],"Saar":[{"number":1,"name":"Chaos Mapping","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":1,"yellowRequirement":0,"description":"Other players cannot activate asteroid fields that contain 1 or more of your ships. At the start of your turn during the action phase, you may produce 1 unit in a system that contains at least 1 of your units that has?Production."},{"number":2,"name":"Floating Factory II","type":"Unit","text":"SD","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":""}],"Jol-Nar":[{"number":1,"name":"Spacial Conduit Cylinder","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":"You may exhaust this card after you activate a system that contains 1 or more of your units; that system is adjacent to all other systems that contain 1 or more of your units during this activation."},{"number":2,"name":"E-Res Siphons","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"After another player activates a system that contains 1 or more of your ships, gain 4 trade goods."}],"Winnu":[{"number":1,"name":"Lazax Gate Folding","type":"Propulsion","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":"During your tactical actions, if you do not control Mecatol Rex, treat its systems as if it has both an \u03b1 and \u03b2 wormhole. [Exhaust] ACTION: If you control Mecatol Rex, place 1 infantry from reinforcements on it."},{"number":2,"name":"Hegemonic Trade Policy","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"Exhaust this card when 1 or more of your units use PRODUCTION; swap the resource and influence values of 1 planet you control until the end of your turn."}],"L1Z1X":[{"number":1,"name":"Super-Dreadnought II","type":"Unit","text":"Dr","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":1,"description":""},{"number":2,"name":"Inheritance Systems","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"You may exhaust this card and spend 2 resources when you research a technology; ignore all of that technology\'s prerequisites."}],"Mentak":[{"number":1,"name":"Salvage Operations","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":2,"description":"After you win or lose a space combat, gain 1 trade good; if you won the combat, you may also produce 1 ship in that system of any ship type that was destroyed during the combat."},{"number":2,"name":"Mirror Computing","type":"Cybernetic","text":"","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":3,"description":"When you spend trade goods, each trade good is worth 2 resources or influence instead of 1."}],"Nekro":[{"number":1,"name":"Valefar Assimilator X","type":"Special","text":"X","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"When you would gain another players?technology?using 1 of your faction ability, you may place the \\"X\\" assimilator token on a faction technology owned by that player instead.? While that token is on a technology, this card gains that technology\'s text.? You cannot place an assimilator token on technology that already has an assimilator token."},{"number":2,"name":"Valefar Assimilator Y","type":"Special","text":"Y","greenRequirement":0,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":"When you would gain another players technology using 1 of your faction ability, you may place the \\"Y\\" assimilator token on a faction technology owned by that player instead.? While that token is on a technology, this card gains that technology\'s text.? You cannot place an assimilator token on technology that already has an assimilator token."}],"Sol":[{"number":1,"name":"Spec Ops II","type":"Unit","text":"Inf","greenRequirement":2,"redRequirement":0,"blueRequirement":0,"yellowRequirement":0,"description":""},{"number":2,"name":"Advanced Carrier II","type":"Unit","text":"Ca","greenRequirement":0,"redRequirement":0,"blueRequirement":2,"yellowRequirement":0,"description":""}]}')},28:function(e){e.exports=JSON.parse('[{"fullName":"Arborec","shortName":"Arborec"},{"fullName":"Barony\xa0of\xa0Letnev","shortName":"Letnev"},{"fullName":"Clan\xa0of\xa0Saar","shortName":"Saar"},{"fullName":"Embers\xa0of\xa0Muaat","shortName":"Muaat"},{"fullName":"Emirates\xa0of\xa0Hacan","shortName":"Hacan"},{"fullName":"Federation\xa0of\xa0Sol","shortName":"Sol"},{"fullName":"Ghosts\xa0of\xa0Creuss","shortName":"Creuss"},{"fullName":"L1Z1X\xa0Mindnet","shortName":"L1Z1X"},{"fullName":"Mentak\xa0Coalition","shortName":"Mentak"},{"fullName":"Naalu\xa0Collective","shortName":"Naalu"},{"fullName":"Nekro\xa0Virus","shortName":"Nekro"},{"fullName":"Sardakk\xa0N\u2019orr","shortName":"Sardakk"},{"fullName":"Universities\xa0of\xa0Jol-Nar","shortName":"Jol-Nar"},{"fullName":"Winnu","shortName":"Winnu"},{"fullName":"Xxcha\xa0Kingdom","shortName":"Xxcha"},{"fullName":"Yin\xa0Brotherhood","shortName":"Yin"},{"fullName":"Yssaril\xa0Tribes","shortName":"Yssaril"}]')},29:function(e){e.exports=JSON.parse('{"testMode":false}')},30:function(e){e.exports=JSON.parse('[{"description":"Red","colour":"red","textColour":"white"},{"description":"Blue","colour":"blue","textColour":"white"},{"description":"Green","colour":"green","textColour":"white"},{"description":"Yellow","colour":"yellow","textColour":"black"},{"description":"Purple","colour":"purple","textColour":"white"},{"description":"Black","colour":"black","textColour":"white"}]')},36:function(e){e.exports=JSON.parse('[{"name":"Leadership","number":1,"colour":"red"},{"name":"Diplomacy","number":2,"colour":"orange"},{"name":"Politics","number":3,"colour":"yellow"},{"name":"Construction","number":4,"colour":"#307843"},{"name":"Trade","number":5,"colour":"#58e87e"},{"name":"Warfare","number":6,"colour":"cyan"},{"name":"Technology","number":7,"colour":"#084bc9"},{"name":"Imperial","number":8,"colour":"purple"}]')},39:function(e){e.exports=JSON.parse('[{"id":1,"stage":1,"name":"Corner the Market","longDescription":"Control 4 planets that each have the same planet trait","shortDescription":"4 planets; same trait"},{"id":2,"stage":1,"name":"Develop Weaponry","longDescription":"Own 2 unit upgrade technologies","shortDescription":"2 unit upgrade techs"},{"id":3,"stage":1,"name":"Diversify Research","longDescription":"Own 2 technologies in each of 2 colors","shortDescription":"2 techs in 2 colours"},{"id":4,"stage":1,"name":"Erect a Monument","longDescription":"Spend 8 resources","shortDescription":"Spend 8 resources"},{"id":5,"stage":1,"name":"Expand Borders","longDescription":"Control 6 planets in non-home systems","shortDescription":"6 planets; non-home systems"},{"id":6,"stage":1,"name":"Found Research Outposts","longDescription":"Control 3 planets that have technology specialties","shortDescription":"3 planets; tech specialty"},{"id":7,"stage":1,"name":"Intimidate Council","longDescription":"Have 1 or more ships in 2 systems that are adjacent to Mecatol Rex\'s System","shortDescription":"2 systems; Mecatol adjacent"},{"id":8,"stage":1,"name":"Lead From the Front","longDescription":"Spend a total of 3 tokens from your tactic and/or strategy pools","shortDescription":"Spend 3 command tokens"},{"id":9,"stage":1,"name":"Negotiate Trade Routes","longDescription":"Spend 5 trade goods","shortDescription":"Spend 5 trade goods"},{"id":10,"stage":1,"name":"Sway the Council","longDescription":"Spend 8 influence","shortDescription":"Spend 8 influence"},{"id":11,"stage":2,"name":"Centralize Galactic Trade","longDescription":"Spend 10 trade goods","shortDescription":"Spend 10 trade goods"},{"id":12,"stage":2,"name":"Conquer the Weak","longDescription":"Control 1 planet that is in another player\'s home system","shortDescription":"1 planet; other home system"},{"id":13,"stage":2,"name":"Form Galactic Brain Trust","longDescription":"Control 5 planets that have technology specialties","shortDescription":"5 planets; tech specialty"},{"id":14,"stage":2,"name":"Found a Golden Age","longDescription":"Spend 16 resources","shortDescription":"Spend 16 resources"},{"id":15,"stage":2,"name":"Galvanize the People","longDescription":"Spend a total of 6 tokens from your tactic and/or strategy pools","shortDescription":"Spend 6 command tokens"},{"id":16,"stage":2,"name":"Manipulate Galactic Law","longDescription":"Spend 16 influence","shortDescription":"Spend 16 influence"},{"id":17,"stage":2,"name":"Master the Sciences","longDescription":"Own 2 technologies in each of 4 colors","shortDescription":"2 techs in 4 colours"},{"id":18,"stage":2,"name":"Revolutionize Warfare","longDescription":"Own 3 unit upgrade technologies","shortDescription":"3 unit upgrade techs"},{"id":19,"stage":2,"name":"Subdue the Galaxy","longDescription":"Control 11 planets in non-home systems","shortDescription":"11 planets; non-home systems"},{"id":20,"stage":2,"name":"Unify the Colonies","longDescription":"Control 6 planets that each have the same planet trait","shortDescription":"6 planets; same trait"}]')},42:function(e,t,n){e.exports=n(55)},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(17),o=n.n(i),s=n(5),l=n(10),u=n(11),c=n(13),m=n(12),d=n(14),h=n(7),p=n(57),y=n(58),f=(n(47),n(28)),b=n(18),g=n(29),v=n(30),C=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(m.a)(t).call(this,e));for(var r=Array(6),a=0;a<6;a++)r[a]=n.createPlayer(a);return n.state={selectedNumberOfPlayers:6,playerDetails:r},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"createPlayer",value:function(e){return{playerName:"Player "+(e+1),playerNumber:e,faction:g.testMode?f[e]:null,colour:g.testMode?v[e]:null,victoryPoints:0,isSpeaker:0===e,isActivePlayer:0===e,isPassed:!1}}},{key:"playerNumberButtonHandleClick",value:function(e){this.setState({selectedNumberOfPlayers:e})}},{key:"determineSelection",value:function(){var e=Array(6).fill(!1);return null!==this.state.selectedNumberOfPlayers&&(e[this.state.selectedNumberOfPlayers-3]=!0),e}},{key:"handlePlayerNameChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].playerName=e.target.value,this.setState({playerDetails:n})}},{key:"handlePlayerFactionChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].faction=JSON.parse(e.target.value),this.setState({playerDetails:n})}},{key:"handlePlayerColourChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].colour=JSON.parse(e.target.value),this.setState({playerDetails:n})}},{key:"handleStartGame",value:function(){var e=this.state.playerDetails.slice(0,this.state.selectedNumberOfPlayers);return e=this.initialiseTechnologies(e),this.props.onStartGame(e)}},{key:"initialiseTechnologies",value:function(e){var t=this;return e.map((function(e){var n=Object(s.a)({},e),r=[];return r.push(t.createPlayerTechnologies(b.Biotic)),r.push(t.createPlayerTechnologies(b.Warfare)),r.push(t.createPlayerTechnologies(b.Propulsion)),r.push(t.createPlayerTechnologies(b.Cybernetic)),r.push(t.createPlayerTechnologies(b[n.faction.shortName])),r.push(t.createPlayerTechnologies(b.Ship)),r.push(t.createPlayerTechnologies(b.Unit)),r.push(t.createPlayerTechnologies(b.Warsun)),n.techs=r,n}))}},{key:"createPlayerTechnologies",value:function(e){return e.map((function(e){return{techDefinition:e,isResearched:!1}}))}},{key:"isGameReady",value:function(){if(!this.state.selectedNumberOfPlayers)return!0;for(var e=[],t=[],n=[],r=0;r<this.state.selectedNumberOfPlayers;r++){var a=this.state.playerDetails[r];if(!a.faction||!a.colour||!a.playerName||t.includes(a.colour.description)||e.includes(a.faction.shortName)||n.includes(a.playerName))return!0;e[r]=a.faction.shortName,t[r]=a.colour.description,n[r]=a.playerName}return!1}},{key:"render",value:function(){var e=this,t=this.determineSelection();return a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:12,xl:{span:8,offset:2}},a.a.createElement("div",null,a.a.createElement("h1",null,"Number of Players"),a.a.createElement(R,{playerNumberSelections:t,onClick:function(t){return e.playerNumberButtonHandleClick(t)}})),a.a.createElement("form",null,a.a.createElement(S,{numberOfPlayers:this.state.selectedNumberOfPlayers,playerDetails:this.state.playerDetails,onPlayerNameChange:function(t,n){return e.handlePlayerNameChange(t,n)},onPlayerFactionChange:function(t,n){return e.handlePlayerFactionChange(t,n)},onPlayerColourChange:function(t,n){return e.handlePlayerColourChange(t,n)}}),a.a.createElement(h.a,{type:"button",disabled:this.isGameReady(),onClick:function(){return e.handleStartGame()}},"Start Game"))))}}]),t}(a.a.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderPlayerNumberButton",value:function(e){var t=this,n=this.props.playerNumberSelections[e-3];return a.a.createElement(k,{value:e,selected:n,onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return a.a.createElement(p.a,null,this.renderPlayerNumberButton(3),this.renderPlayerNumberButton(4),this.renderPlayerNumberButton(5),this.renderPlayerNumberButton(6))}}]),t}(a.a.Component);function k(e){return a.a.createElement("button",{className:"playerNumButton ".concat(e.selected?"selectedPlayerNumButton":""),id:"".concat(e.value,"Player"),onClick:e.onClick},e.value)}var S=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderPlayerDetailEntries",value:function(){for(var e=this,t=Array(this.props.numberOfPlayers),n=function(n){t[n]=a.a.createElement(q,{key:n,playerDetail:e.props.playerDetails[n],onPlayerNameChange:function(t){return e.props.onPlayerNameChange(t,n)},onFactionChange:function(t){return e.props.onPlayerFactionChange(t,n)},onColourChange:function(t){return e.props.onPlayerColourChange(t,n)}})},r=0;r<this.props.numberOfPlayers;r++)n(r);return a.a.createElement("div",null,t)}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderPlayerDetailEntries())}}]),t}(a.a.Component),q=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getFactionList",value:function(){var e=[a.a.createElement("option",{key:"unselected",value:null,hidden:!0})];e=e.concat(f.map((function(e){return a.a.createElement("option",{key:e.shortName,value:JSON.stringify(e)},e.fullName)})));var t=this.props.playerDetail.faction?JSON.stringify(this.props.playerDetail.faction):void 0;return a.a.createElement("select",{id:"factions",required:!0,value:t,onChange:this.props.onFactionChange},e)}},{key:"getColourList",value:function(){var e=[a.a.createElement("option",{key:"unselected",value:null,hidden:!0})];e=e.concat(v.map((function(e){return a.a.createElement("option",{key:e.description,value:JSON.stringify(e)},e.description)})));var t=this.props.playerDetail.colour?JSON.stringify(this.props.playerDetail.colour):void 0;return a.a.createElement("select",{id:"colours",required:!0,defaultValue:t,onChange:this.props.onColourChange},e)}},{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:{span:2,offset:0},xl:{span:1,offset:1}},a.a.createElement("button",{className:"speakerToken ".concat(this.props.playerDetail.isSpeaker?"":"invisible"," disabled")})),a.a.createElement(y.a,{xs:4},a.a.createElement("input",{type:"text",defaultValue:this.props.playerDetail.playerName,onChange:this.props.onPlayerNameChange})),a.a.createElement(y.a,{xs:4},this.getFactionList()),a.a.createElement(y.a,{xs:2},this.getColourList()))}}]),t}(a.a.Component),T=C,N=n(36),E=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleStartRound",value:function(){var e=this;if(this.props.onStartRound)return function(){return e.props.onStartRound()}}},{key:"isRoundReady",value:function(){for(var e=[],t=0;t<this.props.playerDetails.length;t++){var n=this.props.playerDetails[t];if(!n.strategy||e.includes(n.strategy.strategyCard.number))return!0;e[t]=n.strategy.strategyCard.number}return!1}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(p.a,null),a.a.createElement(p.a,null,a.a.createElement(O,{playerDetails:this.props.playerDetails,onPlayerStrategyChange:function(t,n){return e.props.onPlayerStrategyChange(t,n)},onSpeakerButtonClick:this.props.onSpeakerButtonClick})),a.a.createElement(p.a,null,a.a.createElement(y.a,null,a.a.createElement(h.a,{variant:"light",type:"button",onClick:function(){return e.props.onToggleTimers()}},this.props.isGameActive?"Pause Game":"Resume Game")),a.a.createElement(y.a,null,a.a.createElement(h.a,{type:"button",disabled:this.isRoundReady(),onClick:this.handleStartRound()},"Start Round"))))}}]),t}(a.a.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"renderPlayerStrategyEntries",value:function(){for(var e=this,t=this.props.playerDetails.slice(),n=0,r=0;r<t.length;r++)n=t[r].isSpeaker?r:n;for(var i=Array(t.length).fill(null),o=function(r){var o=((r-n)%t.length+t.length)%t.length;i[o]=a.a.createElement(D,{key:t[r].playerNumber,playerDetail:t[r],onStrategyChange:function(n){return e.props.onPlayerStrategyChange(n,t[r].playerNumber)},onSpeakerButtonClick:e.props.onSpeakerButtonClick})},s=0;s<t.length;s++)o(s);return a.a.createElement(y.a,null,i)}},{key:"render",value:function(){return this.renderPlayerStrategyEntries()}}]),t}(a.a.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getStrategyList",value:function(){var e=[a.a.createElement("option",{key:"unselected",value:null,hidden:!0})];e=e.concat(N.map((function(e){return a.a.createElement("option",{key:e.name,value:JSON.stringify(e)},e.name)})));var t=this.props.playerDetail.strategy?JSON.stringify(this.props.playerDetail.strategy.strategyCard):void 0;return a.a.createElement("select",{id:"strategies",required:!0,value:t,onChange:this.props.onStrategyChange},e)}},{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:2,xl:1},a.a.createElement("button",{className:"speakerToken ".concat(this.props.playerDetail.isSpeaker?"":"invisible"),onClick:this.props.onSpeakerButtonClick})),a.a.createElement(y.a,{xs:10,xl:11},a.a.createElement("input",{key:"playerName",type:"text",defaultValue:this.props.playerDetail.playerName,disabled:!0}),a.a.createElement("input",{key:"playerFaction",type:"text",defaultValue:this.props.playerDetail.faction&&this.props.playerDetail.faction.fullName,disabled:!0}),this.getStrategyList()))}}]),t}(a.a.Component),P=E,x=n(40);n(48);function j(e){return a.a.createElement("button",{className:"timer",onClick:e.onClick,disabled:e.disabled},e.time)}var w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=function(e){if(!e)return"00:00";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60,a=t>0?t+":":"";return a+=(n<10?"0"+n:n)+":",a+=r<10?"0"+r:r}(this.props.currentSeconds),n=this.props.onClick;return a.a.createElement("span",{className:"Timer"},a.a.createElement("label",{className:"timerLabel"},this.props.label),a.a.createElement(j,{time:t,disabled:this.props.disabled,onClick:n?function(){return e.props.onClick(e.props.currentSeconds)}:null}))}}]),t}(a.a.Component),G=n(37),M=n(8),B=n(33);n(49),n(50);function A(e){for(var t=[],n=0;n<e.techs.length;n++)t[n]=a.a.createElement(I,{key:n,techSet:e.techs[n],className:"techSetGroup",onTechClick:function(t){return e.onTechClick(t)}});return t}function I(e){for(var t=[],n=function(n){var r=12/e.techSet.length;t[n]=a.a.createElement(y.a,{key:n,xs:r},a.a.createElement(W,{key:e.techSet[n].techDefinition.name,tech:e.techSet[n],onTechClick:function(){return e.onTechClick(e.techSet[n].techDefinition)}}))},r=0;r<e.techSet.length;r++)n(r);return a.a.createElement(p.a,null,t)}function W(e){return a.a.createElement("button",{className:"rounded techButton ".concat(e.tech.techDefinition.type," ").concat(e.tech.isResearched?"researched":""," "),onClick:e.onTechClick},e.tech.techDefinition.text)}function U(e){var t=e.player,n=t.colour?t.colour.colour:null,r=t.colour?t.colour.textColour:null,i=t.strategy,o=i?a.a.createElement("button",{className:"strategyCardButton",type:"button",style:{backgroundColor:i.isUsed?"grey":i.strategyCard.colour},onClick:e.onStrategyCardClick},i.strategyCard.number):null,s=t.isSpeaker?a.a.createElement(y.a,null,a.a.createElement("button",{className:"speakerToken",onClick:e.onSpeakerButtonClick})):null;return a.a.createElement(B.a,{className:"border-0"},a.a.createElement("h6",{className:"rounded currentPlayerBlock ".concat(t.isActivePlayer?"activePlayerBlock":t.isPassed?"passedPlayerBlock":""),onClick:e.onEndTurn},t.isActivePlayer?"Current Player":t.isPassed?"Passed":""),a.a.createElement(B.a,{className:"playerCard"},a.a.createElement(p.a,{noGutters:!0,style:{backgroundColor:n,color:r}},a.a.createElement(y.a,{xs:2}),a.a.createElement(y.a,null,a.a.createElement("div",null,t.playerName),a.a.createElement("div",null,t.faction&&t.faction.shortName)),a.a.createElement(y.a,{xs:2},a.a.createElement("button",{className:"rounded passButton \n                                ".concat(t.strategy.isUsed?t.isPassed?"passButtonPassed":"":"invisible"),onClick:e.onPassButtonClick,disabled:!t.strategy.isUsed}))),a.a.createElement(p.a,{noGutters:!0,className:"flex-column"},a.a.createElement(w,{currentSeconds:e.playerTimer.currentSeconds,disabled:!0})),a.a.createElement(p.a,{noGutters:!0},a.a.createElement(y.a,null,a.a.createElement("button",{className:"victoryPointButton",type:"button",onClick:e.onVictoryPointsClick,onContextMenu:e.onVictoryPointsClick},t.victoryPoints))),a.a.createElement(p.a,{noGutters:!0,className:"flex-column"},a.a.createElement("hr",{className:"playerCardDivider"})),a.a.createElement(p.a,{noGutters:!0},a.a.createElement(y.a,null,o),s),a.a.createElement(p.a,{noGutters:!0,className:"flex-column"},a.a.createElement("hr",{className:"playerCardDivider"})),a.a.createElement(A,{techs:t.techs,onTechClick:function(t){return e.onTechClick(t)}})))}function J(e){return a.a.createElement(M.a,{show:e.showModal,onHide:e.onCloseModal,centered:!0},a.a.createElement(M.a.Body,null,a.a.createElement("h3",null,"End the round?")),a.a.createElement(M.a.Footer,null,a.a.createElement(h.a,{variant:"secondary",onClick:e.onCloseModal},"Cancel"),a.a.createElement(h.a,{variant:"primary",onClick:e.onConfirmModal},"Confirm")))}var F=function(e){var t=Object(r.useState)(!1),n=Object(x.a)(t,2),i=n[0],o=n[1],s=e.players.slice();s.sort((function(e,t){return e.strategy.strategyCard.number-t.strategy.strategyCard.number}));var l=s.map((function(t){return a.a.createElement(y.a,{key:t.playerNumber},a.a.createElement(U,{key:t.playerNumber,player:t,playerTimer:e.playerTimers[t.playerNumber],onEndTurn:function(){return e.onEndTurn()},onVictoryPointsClick:function(n){return e.onVictoryPointsClick(n,JSON.stringify(t))},onStrategyCardClick:function(){return e.onStrategyCardClick(JSON.stringify(t))},onPassButtonClick:function(){return e.onPassButtonClick(JSON.stringify(t))},onTechClick:function(n){return e.onTechClick(n,t)},onSpeakerButtonClick:e.onSpeakerButtonClick}))})),u=function(e){for(var t=0;t<e.length;t++)if(!e[t].isPassed)return!1;return!0}(s);return a.a.createElement("div",{className:"d-flex flex-column"},a.a.createElement(p.a,null,l),a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:{span:2,offset:1}},a.a.createElement(h.a,{variant:"light",type:"button",onClick:function(){return e.onToggleTimers()}},e.isGameActive?"Pause Game":"Resume Game")),a.a.createElement(y.a,{xs:{span:3,offset:6}},a.a.createElement(G.a,null,a.a.createElement(h.a,{type:"button",disabled:u,onClick:function(){return e.onEndTurn()}},"End Turn"),a.a.createElement(h.a,{type:"button",disabled:!u,onClick:function(){return o(!0)}},"End Round")))),a.a.createElement(J,{showModal:i,onConfirmModal:function(){return e.onEndRound()},onCloseModal:function(){return o(!1)}}))};var L=n(39);function Y(e){if(!e.showModal)return null;var t=e.objectives.map((function(e){return e.isRevealed?e:null}));t=t.filter((function(e){return null!==e}));var n=L.filter((function(t){return t.stage===e.stage}));n=n.filter((function(e){return!t.some((function(t){return e.id===t.id}))}));var r=Array(1);r[0]=a.a.createElement("option",{key:"unselected",className:"nullOption",value:null,hidden:!0}),r=r.concat(n.map((function(e){return a.a.createElement("option",{key:e.id,value:JSON.stringify(e)},e.name)})));var i=a.a.createElement("select",{id:"objectives",required:!0,onChange:e.onObjectiveChange},r);return a.a.createElement(M.a,{show:e.showModal,onHide:e.onCloseModal,centered:!0},a.a.createElement(M.a.Header,null,a.a.createElement(M.a.Title,null,"Select Public Objective")),a.a.createElement(M.a.Body,null,a.a.createElement("div",{className:"d-flex flex-column"},i),a.a.createElement("div",{className:"d-flex flex-column"},a.a.createElement("br",null),a.a.createElement("p",{className:"objectiveLongDescription"},e.selectedObjectiveSelection?e.selectedObjectiveSelection.longDescription:""))),a.a.createElement(M.a.Footer,null,a.a.createElement(h.a,{variant:"secondary",onClick:e.onCloseModal},"Cancel"),a.a.createElement(h.a,{variant:"primary",onClick:e.onConfirmModal,disabled:!e.selectedObjectiveSelection},"Confirm")))}function H(e){for(var t=Array(e.objectives.length),n=function(n){var r=e.objectives[n];t[n]=a.a.createElement(V,{key:r.order,name:r.name,stage:r.stage,shortDescription:r.shortDescription,isRevealed:r.isRevealed,onObjectiveCardClick:function(){return e.onObjectiveCardClick(n)}})},r=0;r<e.objectives.length;r++)n(r);return a.a.createElement("div",null,t)}function V(e){var t=e.isRevealed?e.shortDescription:e.stage;return a.a.createElement("div",null,a.a.createElement("button",{type:"button",className:"objectiveCard stage".concat(e.stage," ").concat(e.isRevealed?"revealed":""),onClick:e.onObjectiveCardClick},t))}var X=n(27);function z(e){if(!e.showModal)return null;for(var t=[a.a.createElement("option",{key:"unselected",value:null,hidden:!0})],n=0;n<e.playerDetails.length;n++){var r=e.playerDetails[n];r.isSpeaker||t.push(a.a.createElement("option",{key:r.playerNumber,value:r.playerNumber},r.playerName+" - "+r.faction.shortName))}var i=a.a.createElement("select",{id:"speakerCandidates",required:!0,onChange:e.onSpeakerChange},t);return a.a.createElement(M.a,{show:e.showModal,onHide:e.onCloseModal,centered:!0},a.a.createElement(M.a.Header,null,a.a.createElement(M.a.Title,null,"Select New Speaker")),a.a.createElement(M.a.Body,null,a.a.createElement("div",{className:"d-flex flex-column"},i)),a.a.createElement(M.a.Footer,null,a.a.createElement(h.a,{variant:"secondary",onClick:e.onCloseModal},"Cancel"),a.a.createElement(h.a,{variant:"primary",onClick:e.onConfirmModal,disabled:!e.selectedSpeakerNumber},"Confirm")))}n(53);function Z(e){var t=e.showTurnTimer?a.a.createElement(w,{id:"turnTimer",label:"Turn Time",currentSeconds:e.currentTurnTimer.currentSeconds,onClick:function(){return e.onTurnTimerClick()}}):null;return a.a.createElement("div",null,a.a.createElement("label",{className:"timerLabel"},"Round: "+e.roundNumber),t,a.a.createElement(w,{id:"turnTimer",label:"Total Game Time",currentSeconds:e.totalGameTimer.currentSeconds,onClick:function(){return e.onGameTimerClick()}}))}var K=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={gameMode:1,showObjectiveSelectModal:!1,showSpeakerChangeModal:!1,selectedObjective:null,selectedObjectiveSelection:null,selectedSpeakerNumber:null,playerDetails:null,playerTimers:null,roundNumber:1,totalGameTimer:{baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!1},currentTurnTimer:{baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!1},publicObjectives:n.fillPublicObjectives()},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.heartbeat=setInterval((function(){return e.recalculateTimers()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.heartbeat)}},{key:"handleStartGame",value:function(e){for(var t=Array(e.length),n=0;n<t.length;n++)t[n]={baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!1};this.setState({playerDetails:e,playerTimers:t,gameMode:2}),this.startGameTimer()}},{key:"handlePlayerStrategyChange",value:function(e,t){var n=this.state.playerDetails.slice(),r={strategyCard:JSON.parse(e.target.value),isUsed:!1};n[t].strategy=r,this.setState({playerDetails:n})}},{key:"handleStrategyCardClicked",value:function(e){var t=JSON.parse(e);if(!t.isPassed){var n=Object(s.a)({},t.strategy);n.isUsed=!n.isUsed;var r=Object(s.a)({},t);r.strategy=n;var a=this.state.playerDetails.slice();a[r.playerNumber]=r,this.setState({playerDetails:a}),3===r.strategy.strategyCard.number&&r.strategy.isUsed&&this.handleSpeakerButtonClicked()}}},{key:"handlePassButtonClicked",value:function(e){var t=JSON.parse(e);if(t.isPassed||t.strategy.isUsed){var n=Object(s.a)({},t);n.isPassed=!n.isPassed;var r=this.state.playerDetails.slice();r[n.playerNumber]=n,this.setState({playerDetails:r})}}},{key:"handleStartRound",value:function(){for(var e=8,t=0;t<this.state.playerDetails.length;t++)this.state.playerDetails[t].strategy.strategyCard.number<=e&&(e=this.state.playerDetails[t].strategy.strategyCard.number);var n=this.state.playerDetails.map((function(t){var n=Object(s.a)({},t);return n.isActivePlayer=n.strategy.strategyCard.number===e,n}));this.setState({playerDetails:n,gameMode:3}),this.startGameTimer(),this.startTurnTimers()}},{key:"handleTurnTimerClicked",value:function(){this.state.currentTurnTimer.isCounting?this.stopTurnTimers():(this.startTurnTimers(),this.startGameTimer())}},{key:"handleGameTimerClicked",value:function(){this.state.totalGameTimer.isCounting?(this.stopGameTimer(),this.stopTurnTimers()):this.startGameTimer()}},{key:"handleEndRound",value:function(){var e=this.state.playerDetails.slice().map((function(e){return Object(s.a)({},e,{strategy:null,isPassed:!1})}));this.setState({gameMode:2,roundNumber:this.state.roundNumber+1,playerDetails:e}),this.stopTurnTimers(!0),this.startGameTimer()}},{key:"handleToggleTimers",value:function(){this.state.totalGameTimer.isCounting?(this.stopGameTimer(),this.stopTurnTimers()):(this.startGameTimer(),3===this.state.gameMode&&this.startTurnTimers())}},{key:"handleVictoryPointClick",value:function(e,t){var n=JSON.parse(t),r=this.state.playerDetails.slice(),a=n.victoryPoints;if(1===e.nativeEvent.which?a=n.victoryPoints+1:3===e.nativeEvent.which&&(a=n.victoryPoints-1),a>=0&&a<=(this.state.maxVictoryPoints?this.state.maxVictoryPoints:10)){var i=Object(s.a)({},n);i.victoryPoints=a,r[i.playerNumber]=i,this.setState({playerDetails:r})}}},{key:"handleEndTurn",value:function(){this.startGameTimer(),this.restartTurnTimers()}},{key:"handleObjectiveCardClicked",value:function(e){var t=this.state.publicObjectives[e];t.isRevealed||t.order!==this.nextUnrevealedObjective()||this.setState({showObjectiveSelectModal:!0,selectedObjective:t})}},{key:"handleObjectiveChange",value:function(e){var t=JSON.parse(e.target.value);this.setState({selectedObjectiveSelection:t})}},{key:"handleCloseObjectiveSelectModal",value:function(e){if(e&&this.state.selectedObjectiveSelection&&this.state.selectedObjective){var t=Object(s.a)({},this.state.selectedObjectiveSelection);t.isRevealed=!0,t.order=this.state.selectedObjective.order;var n=this.state.publicObjectives.slice();n[this.state.selectedObjective.order]=t,this.setState({publicObjectives:n})}this.setState({showObjectiveSelectModal:!1,selectedObjective:null,selectedObjectiveSelection:null})}},{key:"handleSpeakerButtonClicked",value:function(){this.setState({showSpeakerChangeModal:!0})}},{key:"handleSpeakerChange",value:function(e){var t=e.target.value;this.setState({selectedSpeakerNumber:t})}},{key:"handleCloseSpeakerChangeModal",value:function(e){if(e&&this.state.selectedSpeakerNumber){for(var t=this.state.playerDetails.slice(),n=null,r=0;r<t.length;r++)t[r].isSpeaker&&((n=Object(s.a)({},t[r])).isSpeaker=!1);var a=Object(s.a)({},t[this.state.selectedSpeakerNumber]);a.isSpeaker=!0,t[n.playerNumber]=n,t[a.playerNumber]=a,this.setState({playerDetails:t})}this.setState({showSpeakerChangeModal:!1,selectedSpeakerNumber:null})}},{key:"handleTechClicked",value:function(e,t){for(var n=Object(s.a)({},t),r=t.techs.slice(),a=0;a<r.length;a++){var i=r[a].map((function(t){if(t.techDefinition===e){var n=Object(s.a)({},t);return n.isResearched=!n.isResearched,n}return t}));r[a]=i}n.techs=r;var o=this.state.playerDetails.slice();o[n.playerNumber]=n,this.setState({playerDetails:o})}},{key:"fillPublicObjectives",value:function(){for(var e=Array(10),t=0;t<10;t++)e[t]={id:null,order:t,stage:t<5?1:2,name:null,longDescription:null,shortDescription:null,isRevealed:!1};return e}},{key:"nextUnrevealedObjective",value:function(){for(var e=0;e<this.state.publicObjectives.length;e++)if(!this.state.publicObjectives[e].isRevealed)return this.state.publicObjectives[e].order;return null}},{key:"recalculateTimers",value:function(){this.state.totalGameTimer&&this.state.totalGameTimer.isCounting&&this.recalculateGameTime(),this.state.currentTurnTimer&&this.state.currentTurnTimer.isCounting&&this.recalculateTurnTime()}},{key:"recalculateGameTime",value:function(){var e=Object(s.a)({},this.state.totalGameTimer);e.currentSeconds=e.baseSeconds+Math.floor((Date.now()-e.countStartTime)/1e3),this.setState({totalGameTimer:e})}},{key:"recalculateTurnTime",value:function(){var e=Object(s.a)({},this.state.currentTurnTimer);e.currentSeconds=e.baseSeconds+Math.floor((Date.now()-e.countStartTime)/1e3);var t=this.state.playerTimers.slice(),n=this.getActivePlayer().playerNumber,r=Object(s.a)({},t[n]);r.currentSeconds=r.baseSeconds+Math.floor((Date.now()-r.countStartTime)/1e3),t[n]=r,this.setState({currentTurnTimer:e,playerTimers:t})}},{key:"startTurnTimers",value:function(){if(!this.state.currentTurnTimer.isCounting){var e=Object(s.a)({},this.state.currentTurnTimer);e.isCounting=!0,e.countStartTime=Date.now();var t=this.state.playerTimers.slice(),n=this.getActivePlayer().playerNumber,r=Object(s.a)({},t[n]);r.isCounting=!0,r.countStartTime=Date.now(),t[n]=r,this.setState({currentTurnTimer:e,playerTimers:t})}}},{key:"stopTurnTimers",value:function(e){if(this.state.currentTurnTimer.isCounting){var t=Object(s.a)({},this.state.currentTurnTimer);t.isCounting=!1,e?(t.baseSeconds=0,t.currentSeconds=0):t.baseSeconds=t.currentSeconds;var n=this.state.playerTimers.slice(),r=this.getActivePlayer().playerNumber,a=Object(s.a)({},n[r]);a.isCounting=!1,a.baseSeconds=a.currentSeconds,n[r]=a,this.setState({currentTurnTimer:t,playerTimers:n})}}},{key:"restartTurnTimers",value:function(){var e={baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!0},t=this.state.playerDetails.slice(),n=this.state.playerTimers.slice(),r=Object(s.a)({},this.getActivePlayer()),a=Object(s.a)({},n[r.playerNumber]);a.isCounting=!1,a.baseSeconds=a.currentSeconds,r.isActivePlayer=!1,n[r.playerNumber]=a,t[r.playerNumber]=r;var i=this.getNextPlayer(r),o=Object(s.a)({},n[i.playerNumber]);o.isCounting=!0,o.countStartTime=Date.now(),i.isActivePlayer=!0,n[i.playerNumber]=o,t[i.playerNumber]=i,this.setState({currentTurnTimer:e,playerDetails:t,playerTimers:n})}},{key:"startGameTimer",value:function(){if(!this.state.totalGameTimer.isCounting){var e=Object(s.a)({},this.state.totalGameTimer);e.isCounting=!0,e.countStartTime=Date.now(),this.setState({totalGameTimer:e})}}},{key:"stopGameTimer",value:function(){if(this.state.totalGameTimer.isCounting){var e=Object(s.a)({},this.state.totalGameTimer);e.baseSeconds=e.currentSeconds,e.isCounting=!1,this.setState({totalGameTimer:e})}}},{key:"getActivePlayer",value:function(){for(var e=0;e<this.state.playerDetails.length;e++)if(this.state.playerDetails[e].isActivePlayer)return this.state.playerDetails[e];return null}},{key:"getNextPlayer",value:function(e){for(var t=e,n=e.strategy.strategyCard.number+8-1,r=0;r<this.state.playerDetails.length;r++){var a=this.state.playerDetails[r];if(!a.isActivePlayer&&!a.isPassed){var i=a.strategy.strategyCard.number<e.strategy.strategyCard.number?a.strategy.strategyCard.number+8:a.strategy.strategyCard.number;i<n&&(n=i,t=a)}}return t}},{key:"renderGameComponent",value:function(){switch(this.state.gameMode){case 1:return this.renderPlayerSelect();case 2:return this.renderStrategy();case 3:return this.renderStatusBoard();default:return null}}},{key:"renderPlayerSelect",value:function(){var e=this;return a.a.createElement(X.a,{fluid:!0},a.a.createElement(T,{onStartGame:function(t){return e.handleStartGame(t)}}))}},{key:"renderStrategy",value:function(){var e=this;return a.a.createElement(X.a,{fluid:!0},a.a.createElement(p.a,null,this.renderGameHeader(!1)),a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:4,md:2,xl:1},this.renderObjectivePanel()),a.a.createElement(y.a,null,a.a.createElement(P,{playerDetails:this.state.playerDetails,isGameActive:this.state.totalGameTimer.isCounting,onToggleTimers:function(){return e.handleToggleTimers()},onStartRound:function(){return e.handleStartRound()},onPlayerStrategyChange:function(t,n){return e.handlePlayerStrategyChange(t,n)},onSpeakerButtonClick:function(){return e.handleSpeakerButtonClicked()}}))))}},{key:"renderStatusBoard",value:function(){var e=this;return a.a.createElement(X.a,{fluid:!0},a.a.createElement(p.a,null,this.renderGameHeader(!0)),a.a.createElement(p.a,null,a.a.createElement(y.a,{xs:4,md:2,xl:1},this.renderObjectivePanel()),a.a.createElement(y.a,null,a.a.createElement(F,{roundNumber:this.state.roundNumber,isGameActive:this.state.totalGameTimer.isCounting,players:this.state.playerDetails,playerTimers:this.state.playerTimers,onEndTurn:function(){return e.handleEndTurn()},onToggleTimers:function(){return e.handleToggleTimers()},onVictoryPointsClick:function(t,n){return e.handleVictoryPointClick(t,n)},onStrategyCardClick:function(t){return e.handleStrategyCardClicked(t)},onPassButtonClick:function(t){return e.handlePassButtonClicked(t)},onEndRound:function(){return e.handleEndRound()},onTechClick:function(t,n){return e.handleTechClicked(t,n)},onSpeakerButtonClick:function(){return e.handleSpeakerButtonClicked()}}))))}},{key:"renderGameHeader",value:function(e){var t=this;return a.a.createElement(Z,{roundNumber:this.state.roundNumber,totalGameTimer:this.state.totalGameTimer,showTurnTimer:e,currentTurnTimer:this.state.currentTurnTimer,onTurnTimerClick:function(){return t.handleTurnTimerClicked()},onGameTimerClick:function(){return t.handleGameTimerClicked()}})}},{key:"renderObjectivePanel",value:function(){var e=this;return a.a.createElement(H,{className:"objectivePanel",objectives:this.state.publicObjectives,onObjectiveCardClick:function(t){return e.handleObjectiveCardClicked(t)}})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,this.renderGameComponent(),a.a.createElement(Y,{showModal:this.state.showObjectiveSelectModal,objectives:this.state.publicObjectives,stage:this.state.selectedObjective?this.state.selectedObjective.stage:null,selectedObjectiveSelection:this.state.selectedObjectiveSelection,onConfirmModal:function(){return e.handleCloseObjectiveSelectModal(!0)},onCloseModal:function(){return e.handleCloseObjectiveSelectModal()},onObjectiveChange:function(t){return e.handleObjectiveChange(t)}}),a.a.createElement(z,{showModal:this.state.showSpeakerChangeModal,playerDetails:this.state.playerDetails,selectedSpeakerNumber:this.state.selectedSpeakerNumber,onConfirmModal:function(){return e.handleCloseSpeakerChangeModal(!0)},onCloseModal:function(){return e.handleCloseSpeakerChangeModal()},onSpeakerChange:function(t){return e.handleSpeakerChange(t)}}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(54);document.oncontextmenu=function(e){return e.preventDefault()},o.a.render(a.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.4ba9d5a3.chunk.js.map