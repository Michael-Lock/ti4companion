(this.webpackJsonpti4companion=this.webpackJsonpti4companion||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(8),i=n.n(l),o=(n(14),n(6)),u=n(1),c=n(2),s=n(4),m=n(3),h=n(5),d=(n(15),["","Arborec","Barony of Letnev","Clan of Saar","Embers of Muaat","Emirates of Hacan","Federation of Sol","Ghosts of Creuss","L1Z1X Mindnet","Mentak Coalition","Naalu Collective","Nekro Virus","Sardakk N\u2019orr","Universities of Jol-Nar","Winnu","Xxcha Kingdom","Yin Brotherhood","Yssaril Tribes"]),y=[{description:null,colour:null},{description:"Red",colour:"red"},{description:"Blue",colour:"blue"},{description:"Green",colour:"green"},{description:"Yellow",colour:"yellow"},{description:"Purple",colour:"purple"},{description:"Black",colour:"black"}],p=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={selectedNumberOfPlayers:null,playerDetails:[n.createPlayer(0),n.createPlayer(1),n.createPlayer(2),n.createPlayer(3),n.createPlayer(4),n.createPlayer(5)]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createPlayer",value:function(e){return{playerName:"Player "+(e+1),playerNumber:e,faction:null,colour:null,isSpeaker:0===e}}},{key:"playerNumberButtonHandleClick",value:function(e){var t=this.state.selectedNumberOfPlayers===e;this.setState({selectedNumberOfPlayers:t?null:e})}},{key:"determineSelection",value:function(){var e=Array(6).fill(!1);return null!==this.state.selectedNumberOfPlayers&&(e[this.state.selectedNumberOfPlayers-3]=!0),e}},{key:"handlePlayerNameChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].playerName=e.target.value,this.setState({playerDetails:n}),console.log("New Name is "+n[t].playerName+" for index "+t)}},{key:"handlePlayerFactionChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].faction=e.target.value,this.setState({playerDetails:n}),console.log("New Faction is "+n[t].faction+" for index "+t)}},{key:"handlePlayerColourChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].colour=e.target.value,this.setState({playerDetails:n}),console.log("New Colour is "+n[t].colour+" for index "+t)}},{key:"handleStartGame",value:function(){var e=this;if(this.props.onStartGame){var t=this.state.playerDetails.slice(0,this.state.selectedNumberOfPlayers);return function(){return e.props.onStartGame(t)}}}},{key:"render",value:function(){var e=this,t=this.determineSelection();return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("h1",null,"Number of Players"),a.a.createElement(f,{playerNumberSelections:t,onClick:function(t){return e.playerNumberButtonHandleClick(t)}})),a.a.createElement("form",null,a.a.createElement(v,{numberOfPlayers:this.state.selectedNumberOfPlayers,playerDetails:this.state.playerDetails,onPlayerNameChange:function(t,n){return e.handlePlayerNameChange(t,n)},onPlayerFactionChange:function(t,n){return e.handlePlayerFactionChange(t,n)},onPlayerColourChange:function(t,n){return e.handlePlayerColourChange(t,n)}}),a.a.createElement("button",{type:"button",onClick:this.handleStartGame()},"Start Game")))}}]),t}(a.a.Component),f=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderPlayerNumberButton",value:function(e){var t=this,n=this.props.playerNumberSelections[e-3];return a.a.createElement(b,{value:e,selected:n,onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderPlayerNumberButton(3),this.renderPlayerNumberButton(4),this.renderPlayerNumberButton(5),this.renderPlayerNumberButton(6))}}]),t}(a.a.Component);function b(e){return a.a.createElement("button",{className:"playerNumButton ".concat(e.selected?"selectedPlayerNumButton":""),id:"".concat(e.value,"Player"),onClick:e.onClick},e.value)}var v=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderPlayerDetailEntries",value:function(){for(var e=this,t=Array(this.props.numberOfPlayers),n=function(n){t[n]=a.a.createElement(g,{key:n,playerDetail:e.props.playerDetails[n],onPlayerNameChange:function(t){return e.props.onPlayerNameChange(t,n)},onFactionChange:function(t){return e.props.onPlayerFactionChange(t,n)},onColourChange:function(t){return e.props.onPlayerColourChange(t,n)}})},r=0;r<this.props.numberOfPlayers;r++)n(r);return a.a.createElement("div",null,t)}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderPlayerDetailEntries())}}]),t}(a.a.Component),g=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getFactionList",value:function(){var e=d.map((function(e){return a.a.createElement("option",{key:e,value:e},e)}));return a.a.createElement("select",{id:"factions",required:!0,defaultValue:this.props.playerDetail.faction,onChange:this.props.onFactionChange},e)}},{key:"getColourList",value:function(){var e=y.map((function(e){return a.a.createElement("option",{key:e.description,value:e.description},e.description)}));return a.a.createElement("select",{id:"colours",required:!0,defaultValue:this.props.playerDetail.colour,onChange:this.props.onColourChange},e)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("input",{type:"text",defaultValue:this.props.playerDetail.playerName,onChange:this.props.onPlayerNameChange}),this.getFactionList(),this.getColourList())}}]),t}(a.a.Component),C=p,k=[{name:"",number:null,colour:null},{name:"Leadership",number:1,colour:"red"},{name:"Diplomacy",number:2,colour:"orange"},{name:"Politics",number:3,colour:"yellow"},{name:"Construction",number:4,colour:"dark-green"},{name:"Trade",number:5,colour:"light-green"},{name:"Warfare",number:6,colour:"cyan"},{name:"Technology",number:7,colour:"dark-blue"},{name:"Imperial",number:8,colour:"purple"}],S=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleStartRound",value:function(){var e=this;if(this.props.onStartRound)return function(){return e.props.onStartRound()}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("div",null),a.a.createElement("form",null,a.a.createElement(T,{playerDetails:this.props.playerDetails,onPlayerStrategyChange:function(t,n){return e.props.onPlayerStrategyChange(t,n)}}),a.a.createElement("button",{type:"button",onClick:this.handleStartRound()},"Start Round")))}}]),t}(a.a.Component),T=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderPlayerStrategyEntries",value:function(){for(var e=this,t=this.props.playerDetails.slice(),n=0,r=0;r<t.length;r++)n=t[r].isSpeaker?r:n;for(var l=Array(t.length).fill(null),i=function(r){var i=((r-n)%t.length+t.length)%t.length;l[i]=a.a.createElement(E,{key:t[r].playerNumber,playerDetail:t[r],onStrategyChange:function(n){return e.props.onPlayerStrategyChange(n,t[r].playerNumber)}})},o=0;o<t.length;o++)i(o);return a.a.createElement("div",null,l)}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderPlayerStrategyEntries())}}]),t}(a.a.Component),E=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getStrategyList",value:function(){var e=k.map((function(e){return a.a.createElement("option",{key:e.name,value:e.name},e.name)}));return a.a.createElement("select",{id:"strategies",required:!0,defaultValue:this.props.playerDetail.strategy,onChange:this.props.onStrategyChange},e)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("input",{key:"playerName",type:"text",defaultValue:this.props.playerDetail.playerName,disabled:!0}),a.a.createElement("input",{key:"playerFaction",type:"text",defaultValue:this.props.playerDetail.faction,disabled:!0}),this.getStrategyList())}}]),t}(a.a.Component),O=S,N=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleEndRound",value:function(){var e=this;if(this.props.onEndRound)return function(){return e.props.onEndRound()}}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",null),a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:this.handleEndRound()},"End Round")))}}]),t}(a.a.Component);n(16);function j(e){return a.a.createElement("button",{className:"timer",onClick:e.onClick},e.time)}var P=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=function(e){if(!e)return"00:00";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60,a=t>0?t+":":"";return a+=(n<10?"0"+n:n)+":",a+=r<10?"0"+r:r}(this.props.currentSeconds);return a.a.createElement("span",{className:"Timer"},a.a.createElement("label",{className:"timerLabel"},this.props.label),a.a.createElement(j,{time:t,onClick:function(){return e.props.onClick(e.props.currentSeconds)}}))}}]),t}(a.a.Component);function D(e){var t=e.showTurnTimer?a.a.createElement(P,{id:"turnTimer",label:"Turn Time",currentSeconds:e.currentTurnTimer.currentSeconds,onClick:function(){return e.onTurnTimerClick()}}):null;return a.a.createElement("div",null,a.a.createElement("label",{className:"timerLabel"},"Round: "+e.roundNumber),t,a.a.createElement(P,{id:"turnTimer",label:"Total Game Time",currentSeconds:e.totalGameTimer.currentSeconds,onClick:function(){return e.onGameTimerClick()}}))}var G=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={playerDetails:null,gameMode:1,roundNumber:1,totalGameTimer:{baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!1},currentTurnTimer:{baseSeconds:0,currentSeconds:0,countStartTime:Date.now(),isCounting:!1}},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleGameStart",value:function(e){this.setState({playerDetails:e,gameMode:2}),console.log(e)}},{key:"handlePlayerStrategyChange",value:function(e,t){var n=this.state.playerDetails.slice();n[t].strategy=e.target.value,this.setState({playerDetails:n}),console.log("New Strategy is "+n[t].strategy+" for index "+t)}},{key:"handleRoundStart",value:function(){this.setState({gameMode:3})}},{key:"handleTurnTimerClicked",value:function(e){var t=this,n=Object(o.a)({},this.state.currentTurnTimer);this.state.currentTurnTimer.isCounting?(n.baseSeconds=n.currentSeconds,n.isCounting=!1,this.setState({currentTurnTimer:n}),clearInterval(this.state.currentTurnTimer.interval)):(n.isCounting=!0,n.countStartTime=Date.now(),n.interval=setInterval((function(){t.recalculateTurnTime()}),1e3),this.setState({currentTurnTimer:n}))}},{key:"handleGameTimerClicked",value:function(){var e=this,t=Object(o.a)({},this.state.totalGameTimer);this.state.totalGameTimer.isCounting?(t.baseSeconds=t.currentSeconds,t.isCounting=!1,this.setState({totalGameTimer:t}),clearInterval(this.state.totalGameTimer.interval)):(t.isCounting=!0,t.countStartTime=Date.now(),t.interval=setInterval((function(){e.recalculateGameTime()}),1e3),this.setState({totalGameTimer:t}))}},{key:"handleEndRound",value:function(){var e=this.state.playerDetails.slice().map((function(e){return Object(o.a)({},e,{strategy:null})}));this.setState({gameMode:2,roundNumber:this.state.roundNumber+1,playerDetails:e})}},{key:"recalculateGameTime",value:function(){var e=Object(o.a)({},this.state.totalGameTimer);e.currentSeconds=e.baseSeconds+Math.floor((Date.now()-e.countStartTime)/1e3),this.setState({totalGameTimer:e})}},{key:"recalculateTurnTime",value:function(){var e=Object(o.a)({},this.state.currentTurnTimer);e.currentSeconds=e.baseSeconds+Math.floor((Date.now()-e.countStartTime)/1e3),this.setState({currentTurnTimer:e})}},{key:"renderGameComponent",value:function(){switch(this.state.gameMode){case 1:return this.renderPlayerSelect();case 2:return this.renderStrategy();case 3:return this.renderStatusBoard();default:return null}}},{key:"renderPlayerSelect",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement(C,{onStartGame:function(t){return e.handleGameStart(t)}}))}},{key:"renderStrategy",value:function(){var e=this;return a.a.createElement("div",null,this.renderGameHeader(!1),a.a.createElement("h1",null,"Strategy Phase"),a.a.createElement(O,{playerDetails:this.state.playerDetails,onStartRound:function(){return e.handleRoundStart()},onPlayerStrategyChange:function(t,n){return e.handlePlayerStrategyChange(t,n)}}))}},{key:"renderStatusBoard",value:function(){var e=this;return a.a.createElement("div",null,this.renderGameHeader(!0),a.a.createElement("h1",null,"Status Board"),a.a.createElement(N,{roundNumber:this.state.roundNumber,totalGameTimer:this.state.totalGameTimer,currentTurnTimer:this.state.currentTurnTimer,onTurnTimerClick:function(){return e.handleTurnTimerClicked()},onGameTimerClick:function(){return e.handleGameTimerClicked()},onEndRound:function(){return e.handleEndRound()}}))}},{key:"renderGameHeader",value:function(e){var t=this;return a.a.createElement(D,{roundNumber:this.state.roundNumber,totalGameTimer:this.state.totalGameTimer,showTurnTimer:e,currentTurnTimer:this.state.currentTurnTimer,onTurnTimerClick:function(){return t.handleTurnTimerClicked()},onGameTimerClick:function(){return t.handleGameTimerClicked()}})}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderGameComponent())}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.ca042088.chunk.js.map